(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){"use strict";var n=a(161),i=a(27),r=a.n(i),s=a(34),o=s.a.adminRoleList.length,c=Object(n.a)({},"list|".concat(o),[{"id|+1":1,uid:function(){return s.a.adminRoleList[this.id-1].uid},name:function(){return s.a.adminRoleList[this.id-1].name},createTime:"@datetime"}]);t.a={adminRoleList:r.a.mock(c).list}},1116:function(e,t,a){},1117:function(e,t,a){},1118:function(e,t,a){},1119:function(e,t,a){},1120:function(e,t,a){},1121:function(e,t,a){},1122:function(e,t,a){},1123:function(e,t,a){},1124:function(e,t,a){},1125:function(e,t,a){"use strict";a.r(t);var n=a(6),i=a(27),r=a.n(i),s=a(18),o=a(34),c=a(101),l=a(45),d=a(7),u=a(21);r.a.mock(Object(s.a)("/common/userAdminRoleList/get"),"get",Object(n.a)({},s.b.baseMock,{data:{list:c.a.adminRoleList}})),r.a.mock(Object(s.a)("/common/userBussinesRoleList/get"),"get",Object(n.a)({},s.b.baseMock,{data:{list:o.a.userRole}})),r.a.mock(Object(s.a)("/common/storeCategoryList/get"),"get",Object(n.a)({},s.b.baseMock,{data:{list:o.a.storeCategory}})),r.a.mock(Object(s.a)("/common/userListBusniess/get"),"get",function(e){var t=decodeURI(Object(d.j)(e.url,"search")),a=Object(d.j)(e.url,"id"),i=[],r=l.d;return t&&"undefined"!==t&&(r=Object(u.c)(r,{name:t},"or")),a&&(r=Object(u.c)(r,{id:a},"or","eq")),r.forEach(function(e){i.push({id:e.id,name:e.name})}),Object(n.a)({},s.b.baseMock,{data:{list:i}})})},1126:function(e,t,a){"use strict";a.r(t);var n=a(6),i=a(197),r=a(27),s=a.n(r),o=a(18),c=a(21),l=a(45),d=[].concat(Object(i.a)(l.d),Object(i.a)(l.c));s.a.mock(Object(o.a)("/user/login"),"post",function(e){var t=JSON.parse(e.body).name,a=JSON.parse(e.body).password,i=Object(c.c)(d,{name:t,password:a},"and","eq");i&&i.length||(i=Object(c.c)(d,{phone:t,password:a},"and","eq"),console.log(i,"====---result==--")),console.log(i,"result==--");var r="",s=1e4,l=400,u={};return i&&i.length?i[0].isDelete?(r="\u8be5\u7528\u6237\u5df2\u88ab\u5220\u9664\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458",s=10002):i[0].isActive?(u=i[0],l=200):(r="\u8be5\u7528\u6237\u5df2\u88ab\u505c\u7528\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458",s=10002):(r="\u767b\u5f55\u5931\u8d25",s=10001),Object(n.a)({},o.b.baseMock,{},{errmsg:r,code:s,data:u,status:l})})},1128:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(17),s=a.n(r);a(509),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(11),c=a(12),l=a(14),d=a(13),u=a(118),h=a(76),p=(a(510),a(28)),m=function(e){return{type:"COLLAPSEDTOGGLE",value:e}},f=function(e){return{type:"SETBREADCRUMB",value:e}},g=function(e){return{type:"RELOAD",value:e}},v=function(e){return{type:"WINDOWINFO",value:e}},b=function(e){return{type:"USERINFO",value:e}},y=function(e){return{type:"CURRENTTHEME",value:e}},j=a(38),O=a(33),k=(a(516),a(246),a(142)),D=(a(202),a(15)),S=(a(330),a(85)),E=a(6),w=a(4),C=(a(201),a(67)),x=a(43),M=(a(522),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).clickHandler=n.clickHandler.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"clickHandler",value:function(e){e.preventDefault(),this.props.onClick&&this.props.onClick()}},{key:"render",value:function(){var e=this,t=this.props,a=t.icon,n=t.type,r=t.size,s=t.disabled,o=t.className,c=(t.authId,Object(x.a)(t,["icon","type","size","disabled","className","authId"])),l=a.includes("fa")?i.a.createElement("i",{className:"fa ".concat(a)}):i.a.createElement(D.a,{type:a});return i.a.createElement("div",{className:"c-button ".concat(c.block?"c-button-block":""," ").concat(o||"")},i.a.createElement(C.a,Object.assign({className:"c-button-base c-button-".concat(n," c-button-size-").concat(r," ").concat(s?"c-button-disabled":""," ").concat(a?"c-button-icon":"")},c,{onClick:function(t){return e.clickHandler(t)}}),""!==a?l:"",this.props.children))}}]),a}(n.Component));M.defaultProps={type:"default",size:"default",icon:"",disabled:!1,loading:!1};var N=M,I=[{id:"personal",path:"/personal",name:"\u4e2a\u4eba\u4fe1\u606f"},{id:"changeAccount",path:"/changeAccount",name:"\u5207\u6362\u8d26\u53f7"},{id:"loginOut",path:"/loginOut",name:"\u9000\u51fa"}],L=a(7),T=(a(564),a(83)),R=a.n(T),H=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={menuList:[],time:null,themeMenuList:[[{id:"default",color:"#e6f3fd"},{id:"deongaree",color:"#344058"}],[{id:"green",color:"#009688"},{id:"red",color:"#cc0000"}]]},n.collapsedChange=n.collapsedChange.bind(Object(w.a)(n)),n.menuClick=n.menuClick.bind(Object(w.a)(n)),n.themeChange=n.themeChange.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"collapsedChange",value:function(){var e=!this.props.collapsed;this.props.collapsedToggle(e);var t=this;clearTimeout(this.state.time);var a=setTimeout(function(){var e=document.getElementById("mainContent").offsetHeight,a=document.getElementById("mainContent").offsetWidth,n=Object(E.a)({},t.props.windowInfo,{mainContentHeight:e,mainContentWidth:a});t.props.setWindowInfo&&t.props.setWindowInfo(n)},300);this.setState({time:a})}},{key:"menuClick",value:function(e){"loginOut"===e.id?(Object(L.i)("userInfo",null),this.props.setUserInfo(null),this.props.history.push({pathname:"/login"})):"personal"===e.id&&this.props.history.push({pathname:"/personal"})}},{key:"themeChange",value:function(e){Object(L.i)("theme",e.id),this.props.setCurrentTheme(e.id)}},{key:"componentWillMount",value:function(){this.setState({menuList:I})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.state.time)}},{key:"render",value:function(){var e=this,t=this.props.userInfo||{},a=t.name,n=t.avatar,r=n?n.url:"",s=i.a.createElement(S.a,null,this.state.menuList.map(function(t,a){return i.a.createElement(S.a.Item,{key:a},i.a.createElement(N,{type:"text",block:!0,onClick:function(){return e.menuClick(t)}},t.name))})),o=i.a.createElement(S.a,null,this.state.themeMenuList.map(function(t,a){return i.a.createElement(S.a.Item,{key:a},i.a.createElement("div",{className:"flex themeItem"},t.map(function(t){return i.a.createElement("div",{className:"themeItemColor",key:t.id,style:{backgroundColor:t.color},onClick:function(){return e.themeChange(t)}})})))}));return i.a.createElement("header",{className:"flex text-color-white header"},i.a.createElement("div",{className:"logo"},R.a.name),i.a.createElement("div",{className:"flex info"},i.a.createElement("div",{className:"flex collapsed",onClick:this.collapsedChange},i.a.createElement(D.a,{type:"menu-fold"})),i.a.createElement("div",{className:"flex info-right"},i.a.createElement("div",{className:"theme-config",ref:"themeConfig"},i.a.createElement(k.a,{overlay:o,getPopupContainer:function(){return e.refs.themeConfig}},i.a.createElement("span",null,i.a.createElement("span",{className:"theme-config-name"},"\u4e3b\u9898\u76ae\u80a4"),i.a.createElement(D.a,{type:"down"})))),i.a.createElement("div",{className:"user-info",ref:"userInfo"},i.a.createElement(k.a,{overlay:s,getPopupContainer:function(){return e.refs.userInfo}},i.a.createElement("span",null,i.a.createElement("img",{className:"user-avatar",src:r,alt:""}),i.a.createElement("span",{className:"user-name"},a),i.a.createElement(D.a,{type:"down"})))))))}}]),a}(n.Component),A=Object(O.d)(u.f,Object(j.b)(function(e){return{collapsed:e.Common.collapsed,windowInfo:e.Common.windowInfo,userInfo:e.Common.userInfo}},function(e){return{collapsedToggle:Object(O.b)(m,e),setWindowInfo:Object(O.b)(v,e),setUserInfo:Object(O.b)(b,e),setCurrentTheme:Object(O.b)(y,e)}}))(H),U=(a(575),a(477)),F=a(197),P=(a(577),[{id:"home",path:"/home",name:"\u9996\u9875",iconType:"antd",icon:"home",query:{}},{id:"userManage",path:"/userManage",name:"\u7528\u6237\u7ba1\u7406",iconType:"antd",icon:"team",query:{},children:[{id:"userManageEcharts",path:"/userManage/echarts",name:"\u7edf\u8ba1\u5206\u6790",iconType:"antd",icon:"",query:{}},{id:"userManageList",path:"/userManage/list",name:"\u5546\u5bb6\u7528\u6237\u5217\u8868",iconType:"antd",icon:"",query:{}},{id:"userManageAdmin",path:"/userManage/admin",name:"\u7cfb\u7edf\u7528\u6237\u5217\u8868",iconType:"antd",icon:"",query:{}},{id:"userManageMember",path:"/userManage/member",name:"\u4f1a\u5458\u5217\u8868",iconType:"antd",icon:"",query:{}},{id:"userManageGrade",path:"/userManage/grade",name:"\u4f1a\u5458\u7b49\u7ea7",iconType:"antd",icon:"",query:{}}]},{id:"authManage",path:"/authManage",name:"\u6743\u9650\u7ba1\u7406",iconType:"antd",icon:"team",query:{},children:[{id:"authManageRole",path:"/authManage/role",name:"\u89d2\u8272\u7ba1\u7406",iconType:"antd",icon:"",query:{}},{id:"authManageList",path:"/authManage/list",name:"\u6743\u9650\u5217\u8868",iconType:"antd",icon:"",query:{}},{id:"authManageModule",path:"/authManage/module",name:"\u6743\u9650\u6a21\u5757",iconType:"antd",icon:"",query:{}}]},{id:"storeManage",path:"/storeManage",name:"\u5e97\u94fa\u7ba1\u7406",iconType:"fa",icon:"fa-cube",query:{},children:[{id:"storeEcharts",path:"/storeManage/echarts",name:"\u7edf\u8ba1\u5206\u6790",iconType:"antd",icon:"",query:{}},{id:"storeList",path:"/storeManage/list",name:"\u5e97\u94fa\u5217\u8868",iconType:"antd",icon:"",query:{}},{id:"storeRecommend",path:"/storeManage/recommend",name:"\u5e97\u94fa\u63a8\u8350",iconType:"antd",icon:"",query:{}}]},{id:"goodsManage",path:"/goodsManage",name:"\u5546\u54c1\u7ba1\u7406",iconType:"fa",icon:"fa-cube",query:{},children:[{id:"goodsEcharts",path:"/goodsManage/echarts",name:"\u7edf\u8ba1\u5206\u6790",iconType:"antd",icon:"",query:{}},{id:"goodsList",path:"/goodsManage/list",name:"\u5546\u54c1\u5217\u8868",iconType:"antd",icon:"",query:{}},{id:"goodsRecommend",path:"/goodsManage/recommend",name:"\u5546\u54c1\u63a8\u8350",iconType:"antd",icon:"",query:{}}]},{id:"historyRecord",path:"/historyRecord",name:"\u5386\u53f2\u8bb0\u5f55",iconType:"fa",icon:"fa-cube",query:{},children:[{id:"historyRecordDeleteUserList",path:"/historyRecord/deleteUser",name:"\u5220\u9664\u7528\u6237\u5386\u53f2",iconType:"antd",icon:"",query:{}},{id:"historyRecordDeleteAdminUserList",path:"/historyRecord/deleteAdminUser",name:"\u5220\u9664\u7cfb\u7edf\u7528\u6237\u5386\u53f2",iconType:"antd",icon:"",query:{}}]},{id:"orderManage",path:"/orderManage",name:"\u8ba2\u5355\u7ba1\u7406",iconType:"fa",icon:"fa-cube",query:{},children:[{id:"orderManageList",path:"/orderManage/list",name:"\u8ba2\u5355\u5217\u8868",iconType:"antd",icon:"",query:{}},{id:"orderManage",path:"/orderManage/proList",name:"\u95ee\u9898\u8ba2\u5355",iconType:"antd",icon:"",query:{}}]},{id:"message",path:"/message",name:"\u6d88\u606f\u4e2d\u5fc3",iconType:"fa",icon:"fa-envelope-o",query:{}},{id:"systemSet",path:"/systemSet",name:"\u7cfb\u7edf\u8bbe\u7f6e",iconType:"fa",icon:"fa-cog",query:{}}]),q=a(476),z=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleScroll=n.handleScroll.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"renderThumb",value:function(e){var t=e.style,a=Object(x.a)(e,["style"]);return i.a.createElement("div",Object.assign({style:Object(E.a)({},t,{},{width:"4px",backgroundColor:"#000000",opacity:"0.2",borderRadius:"4px",right:"0px"})},a))}},{key:"handleScroll",value:function(e){this.props.onScroll&&this.props.onScroll(e)}},{key:"render",value:function(){return i.a.createElement(q.Scrollbars,{onScroll:this.handleScroll,renderThumbVertical:this.renderThumb,autoHide:!0,autoHideTimeout:1e3,autoHideDuration:200,thumbMinSize:30,universal:!0},this.props.children)}}]),a}(n.Component),W=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={leftNavData:P,currentOpenIds:[],currentActiveId:"",leftNavdefaultOpenAll:R.a.leftNavdefaultOpenAll,CollapseModel:R.a.CollapseModel},n.listenRouterChange=n.listenRouterChange.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"changeToggle",value:function(e){if(e&&e.id){var t=[];if(this.state.CollapseModel)t=this.state.currentOpenIds.includes(e.id)?[]:[e.id];else if(this.state.currentOpenIds.includes(e.id)){var a=this.state.currentOpenIds.indexOf(e.id);this.state.currentOpenIds.splice(a,1),t=this.state.currentOpenIds}else t=[].concat(Object(F.a)(this.state.currentOpenIds),[e.id]);this.setState({currentOpenIds:t})}}},{key:"initOpenAll",value:function(){if(this.state.leftNavdefaultOpenAll){var e=[];this.state.leftNavData.forEach(function(t){t.children&&t.children.length&&e.push(t.id)}),this.setState({currentOpenIds:e})}}},{key:"initCurrentActive",value:function(){var e=Object(L.j)(window.location.href).hash,t=this.state.leftNavData.filter(function(t){return e.includes(t.path)});if(t.length){var a=this.state.currentOpenIds.indexOf(t[0].id),n=this.state.currentOpenIds;a>-1&&(this.state.currentOpenIds.splice(a,1),n=this.state.currentOpenIds),this.setState({currentOpenIds:n}),this.changeToggle(t[0]);var i="";if(t[0].children&&t[0].children.length)i=t[0].children.filter(function(t){return e.includes(t.path)})[0].id;else i=t[0].id;this.setState({currentActiveId:i})}}},{key:"getRouterAndSetBreadcrumb",value:function(e){var t=Object(L.j)(window.location.href).hash;e&&(t=e.path,this.setState({currentActiveId:e.id}));var a=[];t&&(a=t.substring(1).split("/"));var n=[];if(a.length){var i=P.filter(function(e){return e.path.substring(1)===a[0]});if(i&&i.length){var r=[];i[0].children&&i[0].children.length&&(r=i[0].children.filter(function(e){return e.path===t})),n.push.apply(n,[{name:i[0].name||""},{name:r&&r.length?r[0].name:""}])}}this.props.setBreadcrumb(n)}},{key:"listenRouterChange",value:function(){var e=this;this.props.history.listen(function(){e.initCurrentActive(),e.getRouterAndSetBreadcrumb()})}},{key:"popoverContentRender",value:function(e){var t=this;if(e.children&&e.children.length)return i.a.createElement("div",{className:"popover-container"},e.children.map(function(e,a){return i.a.createElement("div",{className:"popover-container-item",key:e.id},i.a.createElement(h.b,{exact:!0,onClick:function(){return t.getRouterAndSetBreadcrumb(e)},className:"flex item-link ".concat(t.state.currentActiveId===e.id?"selected":""),to:e.path},e.name))}))}},{key:"childrenRender",value:function(e){var t=this;return i.a.createElement("div",{className:"ellipsis left-nav-item"},e.children&&e.children.length?i.a.createElement("div",{className:"flex item-link ".concat(this.state.currentOpenIds.includes(e.id)?"open":""),onClick:function(){return t.changeToggle(e)}},i.a.createElement("span",{className:"left"},"fa"===e.iconType?i.a.createElement("i",{className:"prefix-icon fa ".concat(e.icon)}):i.a.createElement(D.a,{className:"prefix-icon",type:e.icon}))):i.a.createElement(h.b,{exact:!0,onClick:function(){return t.getRouterAndSetBreadcrumb(e)},className:"flex item-link ".concat(this.state.currentActiveId===e.id?"selected":""),to:e.path},i.a.createElement("span",{className:"left"},"fa"===e.iconType?i.a.createElement("i",{className:"prefix-icon fa ".concat(e.icon)}):i.a.createElement(D.a,{className:"prefix-icon",type:e.icon}))))}},{key:"componentWillMount",value:function(){this.initOpenAll(),this.initCurrentActive(),this.getRouterAndSetBreadcrumb()}},{key:"componentDidMount",value:function(){this.listenRouterChange()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{ref:"leftNav",className:"left-nav ".concat(this.props.collapsed?"left-nav-open":"left-nav-close")},i.a.createElement(z,null,this.state.leftNavData.map(function(t,a){return i.a.createElement("div",{key:t.id},e.props.collapsed?i.a.createElement("div",{className:"ellipsis left-nav-item"},t.children&&t.children.length?i.a.createElement("div",{className:"flex item-link ".concat(e.state.currentOpenIds.includes(t.id)?"open":""),onClick:function(){return e.changeToggle(t)}},i.a.createElement("span",{className:"left"},"fa"===t.iconType?i.a.createElement("i",{className:"prefix-icon fa ".concat(t.icon)}):i.a.createElement(D.a,{className:"prefix-icon",type:t.icon})),e.props.collapsed&&i.a.createElement("span",{className:"flex right"},t.name,t.children&&t.children.length&&i.a.createElement("i",{className:"suffix-icon fa fa-angle-down"}))):i.a.createElement(h.b,{exact:!0,onClick:function(){return e.getRouterAndSetBreadcrumb(t)},className:"flex item-link ".concat(e.state.currentActiveId===t.id?"selected":""),to:t.path},i.a.createElement("span",{className:"left"},"fa"===t.iconType?i.a.createElement("i",{className:"prefix-icon fa ".concat(t.icon)}):i.a.createElement(D.a,{className:"prefix-icon",type:t.icon})),e.props.collapsed&&i.a.createElement("span",{className:"flex right"},t.name,t.children&&t.children.length&&i.a.createElement("i",{className:"suffix-icon fa fa-angle-down"}))),t.children&&t.children.length&&e.props.collapsed&&i.a.createElement("div",{style:{height:e.state.currentOpenIds.includes(t.id)?"calc(".concat(t.children.length," * 40px)"):"0px"},className:"left-nav-item-children"},t.children.map(function(t,a){return i.a.createElement("div",{className:"left-nav-item-children-item",key:t.id},i.a.createElement(h.b,{exact:!0,onClick:function(){return e.getRouterAndSetBreadcrumb(t)},className:"flex item-link ".concat(e.state.currentActiveId===t.id?"selected":""),to:t.path},t.name))}))):i.a.createElement("div",null,t.children&&t.children.length?i.a.createElement(U.a,{content:e.popoverContentRender(t),placement:"right",overlayClassName:"popover-content-render",getPopupContainer:function(){return e.refs.leftNav}},e.childrenRender(t)):e.childrenRender(t)))})))}}]),a}(n.Component),B=Object(O.d)(u.f,Object(j.b)(function(e){return{collapsed:e.Common.collapsed}},function(e){return{setBreadcrumb:Object(O.b)(f,e)}}))(W),G=a(499),J=a(31),K=a.n(J);a(591);K.a.locale("zh-cn");var V=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={theme:null},e}return Object(c.a)(a,[{key:"watchRouterChange",value:function(){var e=this;this.props.history.listen(function(t){e.userIsLogin(t),console.log("watchRouterChange")})}},{key:"userIsLogin",value:function(e){var t=Object(L.d)("userInfo");t||"/login"===e.pathname||this.props.history.push({pathname:"/login"}),this.props.setUserInfo(t)}},{key:"setThemeFile",value:function(e){Object(L.d)("theme")||Object(L.i)("theme",e),this.setState({theme:Object(L.d)("theme")})}},{key:"componentWillReceiveProps",value:function(e){this.setThemeFile(e.currentTheme)}},{key:"componentDidMount",value:function(){console.log("====33"),this.watchRouterChange(),this.userIsLogin(this.props.history.location),this.setThemeFile(this.props.currentTheme)}},{key:"render",value:function(){return i.a.createElement(p.a,{locale:G.a},i.a.createElement("div",{className:"app","data-theme":this.state.theme},i.a.createElement(A,null),i.a.createElement("div",{className:"flex app-content"},i.a.createElement(B,null),i.a.createElement("div",{className:"app-mainContent"},this.props.children))))}}]),a}(n.Component),Y=Object(O.d)(u.f,Object(j.b)(function(e){return{userInfo:e.Common.userInfo,currentTheme:e.Common.currentTheme}},function(e){return{setUserInfo:Object(O.b)(b,e)}}))(V),_=(a(345),a(172)),X=a(161),$=(a(593),a(500)),Z=(a(346),a(328)),Q=(a(148),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={inputTypeOver:{password:"Password",search:"Search",textarea:"TextArea"},value:""},n.changeHandler=n.changeHandler.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"changeHandler",value:function(e){var t="number"===this.props.type?e:e.target.value;this.setState({value:t}),this.props.onChange&&this.props.onChange(t)}},{key:"enterHandler",value:function(e){var t=e.target.value;this.props.onEnter&&this.props.onEnter(t)}},{key:"searchHandler",value:function(e){this.props.onEnter&&this.props.onEnter(e)}},{key:"componentWillMount",value:function(){var e="number"===this.props.type?void 0:"";this.setState({value:this.props.value||e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.type,n=t.showNumberStep,r=t.className,s=(t.onChange,t.onEnter,t.value,Object(x.a)(t,["type","showNumberStep","className","onChange","onEnter","value"])),o=this.state.inputTypeOver[a]?Z.a[this.state.inputTypeOver[a]]:"input"===a&&Z.a,c={};return"search"===a&&(c={onSearch:function(t){return e.searchHandler(t)}}),i.a.createElement(i.a.Fragment,null,!!o&&i.a.createElement(o,Object.assign({},s,c,{value:this.state.value,className:"c-input ".concat(r),onChange:function(t){return e.changeHandler(t)},onPressEnter:function(t){return e.enterHandler(t)}})),"number"===a&&i.a.createElement($.a,Object.assign({},s,{value:this.state.value,onChange:function(t){return e.changeHandler(t)},className:"c-input-number ".concat(r," ").concat(n?"":"no-show-number-step")})))}}]),a}(n.Component));Q.defaultProps={type:"input",showNumberStep:!1,value:""};var ee=Q;var te=function(e){if(e){var t=e.prototype.componentWillUnmount;e.prototype.componentWillUnmount=function(){t&&t.call.apply(t,[this].concat(Array.prototype.slice.call(arguments))),this.unmount=!0};var a=e.prototype.setState;return e.prototype.setState=function(){this.unmount||a.call.apply(a,[this].concat(Array.prototype.slice.call(arguments)))},e}},ae=a(196),ne=a.n(ae),ie=ne.a.create(),re=ne.a.CancelToken,se=R.a.mock?"/mock":"/api",oe=[];ie.defaults.baseURL=se,ie.defaults.timeout=18e4,ie.interceptors.request.use(function(e){return e.params&&Object.keys(e.params).forEach(function(t){("number"!=typeof e.params[t]||e.params[t].toString())&&("string"!=typeof e.params[t]||e.params[t])||delete e.params[t]}),e},function(e){return Promise.reject(e)}),ie.interceptors.response.use(function(e){return 200===e.status?Promise.resolve(e.data):Promise.reject(e.data)},function(e){return Promise.reject(e&&e.response&&e.response.data)});var ce,le,de,ue,he=function(e,t,a,n){return ie({method:e,url:t,params:a,data:n,cancelToken:new re(function(e){oe.push(e)})}).then(function(e){return Promise.resolve(e)}).catch(function(e){return Promise.reject(e)})},pe=function(e,t){return he("get",e,t)},me=function(e,t){return he("post",e,{},t)},fe=function(e){return pe("/fe/common/userBussinesRoleList/get/",e)},ge=function(e){return pe("/fe/common/userAdminRoleList/get/",e)},ve=function(e){return pe("/fe/common/storeCategoryList/get/",e)},be=function(e){return e.key="ba979a0bcd8b467f8a33479f832077c3",e.offset=e.offset||20,e.page=e.page||1,e.extensions="all",e.types=e.types||190400,e.keywords=e.keywords||"",ne.a.get("https://restapi.amap.com/v3/place/text",{params:e}).then(function(e){return Promise.resolve(e&&e.data)}).catch(function(e){return Promise.reject(e)})},ye=(a(616),te(ce=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={name:"",password:""},n.login=n.login.bind(Object(w.a)(n)),n.changHandler=n.changHandler.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"changHandler",value:function(e,t){this.setState(Object(X.a)({},t,e))}},{key:"login",value:function(){var e=this;if(this.state.name&&this.state.password){var t,a=Object(E.a)({},this.state);(t=a,me("/fe/user/login/",t)).then(function(t){if(200===t.status){var a=t.data;Object(L.i)("userInfo",a),e.props.setUserInfo(a),e.props.history.push({pathname:"/home"})}else _.a.error(t.errmsg)})}else _.a.error("\u8bf7\u5b8c\u5584\u767b\u5f55\u4fe1\u606f")}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"login"},i.a.createElement("div",{className:"flex login-header"},i.a.createElement("div",{className:"login-header-logo"},R.a.name),i.a.createElement("div",{className:"login-header-href"},i.a.createElement("a",{target:"_blank",href:"https://github.com/chengllNice",rel:"noopener noreferrer"},"GitHub"))),i.a.createElement("div",{className:"flex login-content"},i.a.createElement("div",{className:"login-form"},i.a.createElement("div",{className:"flex login-form-title"},i.a.createElement("span",null,"\u767b\u5f55"),i.a.createElement("i",{className:"fa fa-edit"})),i.a.createElement("div",{className:"login-form-content"},i.a.createElement(ee,{value:this.state.name,placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",onChange:function(t){return e.changHandler(t,"name")},onEnter:this.login}),i.a.createElement(ee,{type:"password",value:this.state.password,placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",onChange:function(t){return e.changHandler(t,"password")},onEnter:this.login}),i.a.createElement(N,{className:"login-button",size:"larger",block:!0,type:"primary",onClick:this.login},"\u767b \u5f55")))))}}]),a}(n.Component))||ce),je=Object(O.d)(u.f,Object(j.b)(function(e){return{userInfo:e.Common.userInfo}},function(e){return{setUserInfo:Object(O.b)(b,e)}}))(ye),Oe=(a(1129),a(498)),ke=(a(620),a(329)),De=(a(622),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"flex c-breadcrumb"},i.a.createElement(ke.a,null,this.props.data.map(function(e,t){return i.a.createElement(ke.a.Item,{key:t},e.name)})),this.props.children)}}]),a}(n.Component)),Se=(a(623),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).reload=n.reload.bind(Object(w.a)(n)),n.listenWindowInfo=n.listenWindowInfo.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"reload",value:function(){this.props.setReload(!0)}},{key:"listenWindowInfo",value:function(){var e=this;window.addEventListener("resize",function(t){var a=window.innerHeight||document.body.clientHeight||document.documentElement.clientHeight,n=window.innerWidth||document.body.clientWidth||document.documentElement.clientWidth,i=document.getElementById("mainContent").offsetHeight,r=document.getElementById("mainContent").offsetWidth,s=Object(E.a)({},e.props.windowInfo,{screenHeight:a,screenWidth:n,mainContentHeight:i,mainContentWidth:r});e.props.setWindowInfo&&e.props.setWindowInfo(s)})}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.listenWindowInfo()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",{className:"main-content",id:"mainContent"},i.a.createElement(z,null,i.a.createElement("div",{className:"main-content-scroll"},i.a.createElement("div",{className:"flex main-breadcrumb"},i.a.createElement(De,{data:this.props.breadcrumbData},i.a.createElement(N,{icon:"reload",disabled:this.props.reload,type:"primary",onClick:this.reload}))),i.a.createElement("div",{className:"main-content-body"},i.a.createElement(Oe.a,{className:"main-content-body-card"},this.props.children)))))}}]),a}(n.Component)),Ee=Object(j.b)(function(e){return{breadcrumbData:e.Common.breadcrumbData,windowInfo:e.Common.windowInfo,reload:e.Common.reload}},function(e){return{setReload:Object(O.b)(g,e),setWindowInfo:Object(O.b)(v,e)}})(Se),we=(a(263),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"flex c-detail-info-title"},i.a.createElement("div",{className:"flex c-detail-info-title-left"},i.a.createElement("span",{className:"title-before-icon"}),this.props.title),i.a.createElement("div",{className:"c-detail-info-title-right"},this.props.children))}}]),a}(n.Component)),Ce=a(120),xe=a.n(Ce),Me=a(20),Ne=a.n(Me),Ie=(a(631),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={contentData:[{id:"address",name:"\u5e97\u94fa\u5730\u5740",value:"",jpath:"address"},{id:"category",name:"\u5e97\u94fa\u5206\u7c7b",value:"",jpath:"category.name"},{id:"creditGrade",name:"\u4fe1\u8a89\u7b49\u7ea7",value:"",jpath:"creditGrade.name"},{id:"rate",name:"\u597d\u8bc4\u7387",value:"",jpath:"rate"},{id:"organizationCode",name:"\u7ec4\u7ec7\u673a\u6784\u4ee3\u7801",value:"",jpath:"organizationCode"},{id:"createTime",name:"\u521b\u5efa\u65f6\u95f4",value:"",jpath:"createTime"}]},n.closeInfoWindow=n.closeInfoWindow.bind(Object(w.a)(n)),n.initContentData=n.initContentData.bind(Object(w.a)(n)),n.goDetail=n.goDetail.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"onRef",value:function(){this.props.onRef&&this.props.onRef(this)}},{key:"closeInfoWindow",value:function(){this.props.data.content&&this.props.data.content.close()}},{key:"initContentData",value:function(e){if(e){var t=Ne.a.cloneDeep(this.state.contentData);t.forEach(function(t){t.value=Object(L.c)(e,t.jpath)}),this.setState({contentData:t})}}},{key:"goDetail",value:function(){this.props.el&&this.props.el.props.history.push({pathname:"/storeManage/list/detail",search:"?id=".concat(this.props.data.id)})}},{key:"componentWillReceiveProps",value:function(e){this.initContentData(e.data)}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.onRef(),this.initContentData(this.props.data)}},{key:"render",value:function(){return i.a.createElement("div",{className:"marker-content",ref:"markerContent"},i.a.createElement("div",{className:"flex marker-content-title"},i.a.createElement("span",{className:"ellipsis"},this.props.data.storeName),i.a.createElement("i",{className:"fa fa-close",onClick:this.closeInfoWindow})),i.a.createElement("div",{className:"marker-content-body"},this.state.contentData.map(function(e){return i.a.createElement("div",{className:"flex content-item",key:e.id},i.a.createElement("div",{className:"label"},e.name,":"),i.a.createElement("div",{className:"value"},e.value))})),i.a.createElement("div",{className:"marker-content-footer"},i.a.createElement(N,{type:"text",onClick:this.goDetail},"\u67e5\u770b\u8be6\u60c5")))}}]),a}(n.Component)),Le=null,Te=function(e){Le=e.refs.markerContent},Re=a(480),He=a.n(Re),Ae=(a(632),te(le=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={map:null,data:null},n.initMap=n.initMap.bind(Object(w.a)(n)),n.initMarker=n.initMarker.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"initMap",value:function(){var e=this,t=new xe.a.Map("baseMap",{});this.setState({map:t},function(){return e.initMarker(e.props.data)})}},{key:"initMarker",value:function(e){var t=this;this.state.map&&this.state.map.clearMap();var a=Ne.a.cloneDeep(e);a&&a.forEach(function(e){t.createMarker(e)}),this.setState({data:a}),this.state.map&&this.state.map.setFitView()}},{key:"createMarker",value:function(e){if(this.state.map){var t=this,a=new xe.a.Icon({size:new xe.a.Size(20,30),image:He.a,imageSize:new xe.a.Size(20,30)}),n=new xe.a.Marker({map:this.state.map,draggable:!1,icon:a,position:[e.latlong[1],e.latlong[0]]});e.marker=n,e.marker.on("click",function(a){(function(e,t,a){return s.a.render(i.a.createElement(Ie,{data:e,map:t,el:a,onRef:Te}),document.createElement("div")),new Promise(function(e,t){e(Le)})})(e,t.state.map,t).then(function(a){e.content=new xe.a.InfoWindow({isCustom:!0,closeWhenClickMap:!0,content:a,offset:new xe.a.Pixel(10,-30)}),e.content.open(t.state.map,e.marker.getPosition())})})}else this.initMap()}},{key:"updateMarker",value:function(){}},{key:"removeMarker",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.initMarker(e.data)}},{key:"componentDidMount",value:function(){this.initMap()}},{key:"componentWillUnmount",value:function(){this.state.map&&this.state.map.destroy()}},{key:"render",value:function(){var e=this.props,t=e.className,a=e.style,n=e.height;return a=Object(E.a)({},a,{height:n}),i.a.createElement("div",{className:"base-map ".concat(t),id:"baseMap",style:a})}}]),a}(n.Component))||le),Ue=Object(u.f)(Ae),Fe=(a(633),te(de=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={data:null,searchData:{value:"",placeholder:"\u8bf7\u8f93\u5165\u5e97\u94fa\u540d\u79f0"},loading:!1,mapHeight:"300px"},n.getStoreListAllData=n.getStoreListAllData.bind(Object(w.a)(n)),n.searchHandler=n.searchHandler.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"getStoreListAllData",value:function(){var e,t=this,a={search:this.state.searchData.value};this.setState({loading:!0}),(e=a,pe("/fe/storeManage/storeAllList/get/",e)).then(function(e){var a=e.data.list;t.setState({data:a,loading:!1})})}},{key:"searchHandler",value:function(e){var t=this;this.setState({searchData:Object(E.a)({},this.state.searchData,{value:e})},function(){return t.getStoreListAllData()})}},{key:"computedMapHeight",value:function(){var e=(this.props.windowInfo&&this.props.windowInfo.screenHeight)-200;this.setState({mapHeight:e+"px"})}},{key:"componentWillReceiveProps",value:function(e){this.computedMapHeight()}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.getStoreListAllData(),this.computedMapHeight()}},{key:"render",value:function(){return i.a.createElement("div",{className:"home"},i.a.createElement(we,{title:"\u5e97\u94fa\u4f4d\u7f6e\u4fe1\u606f"},i.a.createElement("div",{className:"flex home-filter"},i.a.createElement(ee,{value:this.state.searchData.value,className:"search-input",type:"search",placeholder:this.state.searchData.placeholder,onEnter:this.searchHandler}))),i.a.createElement(Ue,{className:"home-base-map",height:this.state.mapHeight,data:this.state.data}))}}]),a}(n.Component))||de),Pe={path:"/home",component:Object(j.b)(function(e){return{windowInfo:e.Common.windowInfo}})(Fe),exact:!0},qe=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,this.props.children)}}]),a}(n.Component),ze=te(ue=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,"UserManageEcharts")}}]),a}(n.Component))||ue,We=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,"UserManageGrade")}}]),a}(n.Component),Be=(a(264),a(168)),Ge=(a(635),a(199)),Je=(a(642),a(243)),Ke=(a(359),a(115)),Ve=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={value:!1},n.changeHandler=n.changeHandler.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"changeHandler",value:function(e){var t=e.target.checked;this.setState({value:t}),this.props.onChange&&this.props.onChange(t)}},{key:"componentWillMount",value:function(){var e=this.props.value||!1;this.setState({value:e})}},{key:"render",value:function(){var e=this,t=this.props,a=(t.onChange,Object(x.a)(t,["onChange"]));return i.a.createElement(Ke.a,Object.assign({},a,{checked:this.state.value,onChange:function(t){return e.changeHandler(t)}}),this.props.children)}}]),a}(n.Component),Ye=(a(1135),a(326)),_e=a(481),Xe=a.n(_e),$e=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={value:null,dateType:{mouth:"MonthPicker",range:"RangePicker",week:"WeekPicker "},dateFormat:"YYYY-MM-DD HH:mm:ss"},n.changeHandler=n.changeHandler.bind(Object(w.a)(n)),n.valueFormat=n.valueFormat.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){e.hasOwnProperty("value")&&this.valueFormat(e.value)}},{key:"valueFormat",value:function(e){Ne.a.isString(e)&&(e=e?K()(e,this.state.dateFormat):null),Ne.a.isArray(e)&&(e=e.length?[K()(e[0],this.state.dateFormat),K()(e[1],this.state.dateFormat)]:null),this.setState({value:e})}},{key:"changeHandler",value:function(e,t){this.valueFormat(t),this.props.onChange&&this.props.onChange(t)}},{key:"componentWillMount",value:function(){this.valueFormat(this.props.value)}},{key:"render",value:function(){var e=this,t=this.props,a=t.type,n=(t.value,t.onChange,t.className),r=Object(x.a)(t,["type","value","onChange","className"]),s=this.state.dateType[a]?Ye.a[this.state.dateType[a]]:Ye.a;return i.a.createElement(s,Object.assign({},r,{locale:Xe.a,value:this.state.value,className:"".concat(n," c-date-picker"),onChange:function(t,a){return e.changeHandler(t,a)}}))}}]),a}(n.Component),Ze=(a(649),function(e,t,a){var n=t.filterMultiple,r=t.filters||[],s=t.key,o=t.title,c=null;t.hasOwnProperty("filterDate")&&(c=["date","mouth","range","week"].includes(t.filterDate)?t.filterDate:"range");var l=function(e,t,n){var i,c=null,l="";i=r.filter(function(e){return e.checked}),c="single"===e?[t]:i,l="single"===e?t.value:[],"checkbox"===e&&c.forEach(function(e){l.push(e.value)}),a({key:s,title:o,value:l,type:"filter",data:c}),n.confirm()};return i.a.createElement(i.a.Fragment,null,c?i.a.createElement($e,{type:c,value:t.dateValue,onChange:function(n){return function(n){t.dateValue=n,a({key:s,title:o,type:"date",data:{dateString:n}}),e.confirm()}(n)}}):i.a.createElement(Je.a,{className:"table-filter-dropdown-list",bordered:!0,size:"small",dataSource:r,footer:n?i.a.createElement("div",{className:"flex table-filter-dropdown-footer"},i.a.createElement(N,{size:"small"},"\u53d6\u6d88"),i.a.createElement(N,{type:"primary",size:"small",onClick:function(){return l("checkbox",t.filters,e)}},"\u786e\u5b9a")):null,renderItem:function(t){return a=t,n?i.a.createElement(Je.a.Item,{className:"table-filter-item"},i.a.createElement(Ve,{value:a.checked,onChange:function(e){return function(e,t){t.checked=e}(e,a)}},a.text||"--")):i.a.createElement(Je.a.Item,{className:"table-filter-item",onClick:function(){return l("single",a,e)}},a.text||"--");var a}}))}),Qe=(a(360),a(174)),et=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"tagClose",value:function(e,t){this.props.onTagClose&&this.props.onTagClose(e,t)}},{key:"flag",value:function(e){return Ne.a.isArray(e.data)?!!e.data.length:!!Ne.a.isObject(e.data)&&(Ne.a.isArray(e.data.dateString)?!!e.data.dateString.length:!!e.data.dateString)}},{key:"componentWillReceiveProps",value:function(e){}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"flex filter-head"},!!this.props.data.length&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"flex filter-label"},i.a.createElement("i",{className:"fa fa-filter"}),i.a.createElement("span",null,"\u7b5b\u9009\u9879")),i.a.createElement("div",{className:"flex filter-content"},this.props.data.map(function(t,a){return i.a.createElement("div",{key:t.key},e.flag(t)&&i.a.createElement("div",{className:"flex filter-head-item"},i.a.createElement("span",{className:"label"},t.title),i.a.createElement("div",{className:"filter-tag"},"filter"===t.type&&t.data.map(function(a,n){return i.a.createElement(Qe.a,{closable:!0,color:"cyan",onClose:function(n){return e.tagClose(t,a)},key:a.value},a.text)}),"date"===t.type&&Ne.a.isString(t.data.dateString)&&i.a.createElement(Qe.a,{closable:!0,color:"cyan",onClose:function(a){return e.tagClose(t,t.data.dateString)}},t.data.dateString),"date"===t.type&&Ne.a.isArray(t.data.dateString)&&i.a.createElement(Qe.a,{closable:!0,color:"cyan",onClose:function(a){return e.tagClose(t,t.data.dateString)}},t.data.dateString[0],"-",t.data.dateString[1]))))}))))}}]),a}(n.Component),tt=(a(265),a(170)),at=(a(650),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={page:1,pageSize:10,total:0},e}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({page:e.page||1,pageSize:e.pageSize||10,total:e.total||0})}},{key:"onShowSizeChange",value:function(e,t){this.setState({page:e,pageSize:t});var a={type:"pageSize",data:{page:e,pageSize:t}};this.props.onPageChange&&this.props.onPageChange(a)}},{key:"onChange",value:function(e,t){this.setState({page:e,pageSize:t});var a={type:"page",data:{page:e,pageSize:t}};this.props.onPageChange&&this.props.onPageChange(a)}},{key:"componentWillMount",value:function(){this.setState({page:this.props.page||1,pageSize:this.props.pageSize||10,total:this.props.total||0})}},{key:"render",value:function(){var e=this,t=this.props,a=(t.page,Object(x.a)(t,["page"]));return i.a.createElement(tt.a,Object.assign({},a,{className:"c-page",current:this.state.page,pageSize:this.state.pageSize,total:this.state.total,onChange:function(t,a){return e.onChange(t,a)},onShowSizeChange:function(t,a){return e.onShowSizeChange(t,a)}}))}}]),a}(n.Component));at.defaultProps={total:0,page:1,pageSize:10,showSizeChanger:!0,showQuickJumper:!0,size:"small",showTotal:function(e){return"\u5171 ".concat(e," \u6761")}};var nt=at,it=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={columns:[],dataSource:[],selectedRowKeys:[],filterData:[],loading:!1},n.filterConfirm=n.filterConfirm.bind(Object(w.a)(n)),n.tagClose=n.tagClose.bind(Object(w.a)(n)),n.onPageChange=n.onPageChange.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"columnsInit",value:function(e,t){var a=this,n=null;e?n=Ne.a.cloneDeep(e):(n=Ne.a.cloneDeep(this.props.columns),t&&(n=Ne.a.cloneDeep(t.columns))),n.forEach(function(e,t){e.hasOwnProperty("filterMultiple")&&(e.filters&&e.filters.forEach(function(e){e.hasOwnProperty("checked")||(e.checked=!1)}),e.hasOwnProperty("filterDate")&&!e.hasOwnProperty("dateValue")&&(e.dateValue=null),e.filterDropdown=function(t){return Ze(t,e,a.filterConfirm)})}),this.setState({columns:n})}},{key:"dataSourceInit",value:function(e){var t=Ne.a.cloneDeep(e.dataSource);this.setState({dataSource:t})}},{key:"filterChangeToParent",value:function(e){var t={type:"filter",data:e};this.props.onTableChange&&this.props.onTableChange(t)}},{key:"clearFilterData",value:function(){this.setState({filterData:[]}),this.columnsInit()}},{key:"filterConfirm",value:function(e){var t=Ne.a.cloneDeep(this.state.filterData),a=t.findIndex(function(t){return t.key===e.key}),n={};if(a>-1)if((n=t[a]).data=e.data,"filter"!==e.type||n.data.length)if("date"===e.type){(Ne.a.isArray(n.data.dateString)?!!n.data.dateString.length:!!n.data.dateString)||t.splice(a,1)}else t.splice(a,1,n);else t.splice(a,1);else t.push(e);this.setState({filterData:t}),this.filterChangeToParent(e)}},{key:"tagClose",value:function(e,t){var a=e,n=Ne.a.isArray(a.data)&&a.data.findIndex(function(e){return e.value===t.value});!1!==n&&(0===n||n>-1)&&(a.data.splice(n,1),Ne.a.isArray(a.value)?a.value.splice(n,1):a.value=""),"date"===a.type&&(a.data.dateString=null),this.filterConfirm(a);var i=null;"filter"===a.type&&(i=this.formCheckedFilterToColumns(a.key,t.value,!1)),i?this.columnsInit(i):this.columnsInit()}},{key:"formCheckedFilterToColumns",value:function(e,t,a){var n=Ne.a.cloneDeep(this.state.columns);return n.forEach(function(n){n.key===e&&n.filters.forEach(function(e){e.value===t&&(e.checked=a)})}),n}},{key:"rowSelection",value:function(){var e=this;return this.props.checked?{type:"checkbox",fixed:"left",columnWidth:40,selectedRowKeys:this.state.selectedRowKeys,onChange:function(t,a){e.setState({selectedRowKeys:t}),e.tableSelectionChange(t,a)},getCheckboxProps:function(e){return{disabled:e.disabled,selected:e.checked}}}:null}},{key:"selectedRowKeysInit",value:function(){var e=[];this.state.dataSource.forEach(function(t){t.checked&&e.push(t.key)}),this.setState({selectedRowKeys:e})}},{key:"tableSelectionChange",value:function(e,t){var a={type:"selection",data:{ids:e,data:t}};this.props.onTableChange&&this.props.onTableChange(a)}},{key:"onPageChange",value:function(e){this.props.onTableChange&&this.props.onTableChange(e)}},{key:"componentWillReceiveProps",value:function(e){this.columnsInit(!1,e),this.setState({loading:e.loading}),this.dataSourceInit(e)}},{key:"componentWillMount",value:function(){this.setState({loading:this.props.loading}),this.columnsInit(),this.selectedRowKeysInit()}},{key:"renderColumn",value:function(e){var t=this;if(!e.slot)return i.a.createElement(Ge.a.Column,Object.assign({},e,{render:function(e,t,a){return i.a.createElement("div",{className:"c-table-column"},e)}}));if(this.props.children){if(Ne.a.isArray(this.props.children)){var a=this.props.children.filter(function(t,a){return t.props.slot===e.slot});return a.length?i.a.createElement(Ge.a.Column,Object.assign({},e,{render:function(e,t,n){return i.a.createElement("div",{className:"c-table-column"},a[0].props.render(e,t,n))}})):null}return this.props.children.props.slot===e.slot?i.a.createElement(Ge.a.Column,Object.assign({},e,{render:function(e,a,n){return i.a.createElement("div",{className:"c-table-column"},t.props.children.props.render(e,a,n))}})):null}}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.bordered,n=t.size,r=t.scroll,s=t.page,o=r?{x:"max-content"}:{x:!1};return i.a.createElement("div",{className:"c-table"},i.a.createElement(Be.a,{spinning:this.state.loading},i.a.createElement(et,{data:this.state.filterData,onTagClose:this.tagClose}),i.a.createElement(Ge.a,{rowKey:"id",bordered:a,size:n,scroll:o,pagination:!1,rowSelection:this.rowSelection(),dataSource:this.state.dataSource},this.state.columns.map(function(t){return e.renderColumn(t)})),s&&!!s.total&&i.a.createElement(nt,{total:s.total,page:s.page,pageSize:s.pageSize,onPageChange:this.onPageChange})))}}]),a}(n.Component);it.defaultProps={columns:[],dataSource:[],page:{page:0,total:0,pageSize:0},checked:!0,bordered:!0,size:"small",showFilter:!0,loading:!1,scroll:!0};var rt=it,st=(a(728),a(483)),ot=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={value:!1},n.changeHandler=n.changeHandler.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"changeHandler",value:function(e){var t=e;this.setState({value:t}),this.props.onChange&&this.props.onChange(t)}},{key:"componentWillMount",value:function(){var e=this.props.value||!1;this.setState({value:e})}},{key:"render",value:function(){var e=this,t=this.props,a=(t.onChange,t.value,Object(x.a)(t,["onChange","value"]));return i.a.createElement(st.a,Object.assign({},a,{checked:this.state.value,onChange:function(t){return e.changeHandler(t)}}))}}]),a}(n.Component);ot.defaultProps={size:"small"};var ct,lt=ot,dt={tHead:[{key:"id",title:"id",dataIndex:"id"},{key:"name",dataIndex:"name",title:"\u59d3\u540d"},{key:"password",dataIndex:"password",title:"\u5bc6\u7801"},{key:"email",dataIndex:"email",title:"\u90ae\u7bb1"},{key:"address",dataIndex:"address",title:"\u4f4f\u5740"},{key:"phone",dataIndex:"phone",title:"\u8054\u7cfb\u7535\u8bdd"},{key:"IDCard",dataIndex:"IDCard",title:"\u8eab\u4efd\u8bc1\u53f7\u7801"},{key:"userRole",dataIndex:"userRole.name",title:"\u89d2\u8272",filterMultiple:!1,filters:[]},{key:"createTime",dataIndex:"createTime",title:"\u521b\u5efa\u65f6\u95f4",filterMultiple:!0,filterDate:"range"},{key:"isActive",dataIndex:"isActive",title:"\u6fc0\u6d3b\u505c\u7528",fixed:"right",slot:"isActive"},{key:"operate",dataIndex:"operate",title:"\u64cd\u4f5c",fixed:"right",width:100,slot:"operate"}],tBody:[],tPage:{total:0,page:1,pageSize:10}},ut=(a(731),function(e){return me("/fe/userManage/userList/insert/",e)}),ht=function(e){return me("/fe/userManage/userList/edit/",e)},pt=function(e){return pe("/fe/userManage/userList/detail/",e)},mt=function(e){return me("/fe/userManage/adminList/insert/",e)},ft=function(e){return me("/fe/userManage/adminList/edit/",e)},gt=function(e){return pe("/fe/userManage/adminList/detail/",e)},vt=te(ct=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={columns:dt.tHead,dataSource:dt.tBody,page:dt.tPage,loading:!0,searchData:{value:"",filterTime:"",role:"",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d/\u90ae\u7bb1/\u624b\u673a\u53f7\u7801"},selectionDataIds:[]},n.getUserListData=n.getUserListData.bind(Object(w.a)(n)),n.getUserBussinesRoleList=n.getUserBussinesRoleList.bind(Object(w.a)(n)),n.onTableChange=n.onTableChange.bind(Object(w.a)(n)),n.searchHandler=n.searchHandler.bind(Object(w.a)(n)),n.addHandler=n.addHandler.bind(Object(w.a)(n)),n.removeHandler=n.removeHandler.bind(Object(w.a)(n)),n.resetHandler=n.resetHandler.bind(Object(w.a)(n)),n.detailHandler=n.detailHandler.bind(Object(w.a)(n)),n.editHandler=n.editHandler.bind(Object(w.a)(n)),n.delHandler=n.delHandler.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.getUserListData(),this.getUserBussinesRoleList()}},{key:"getUserListData",value:function(){var e,t=this,a={page:this.state.page.page,pageSize:this.state.page.pageSize,search:this.state.searchData.value,role:this.state.searchData.role,startTime:this.state.searchData.filterTime[0]||"",endTime:this.state.searchData.filterTime[1]||""};this.setState({loading:!0}),(e=a,pe("/fe/userManage/userList/get/",e)).then(function(e){var a=e.data.list;console.log(a,"ddd");var n=e.data.pagination.total;t.setState({dataSource:a,page:Object(E.a)({},t.state.page,{total:n}),loading:!1}),t.props.setReload(!1)})}},{key:"getUserBussinesRoleList",value:function(){var e=this;fe().then(function(t){var a=t.data.list,n=[];a.forEach(function(e){n.push({value:e.id,text:e.name})});var i=Ne.a.cloneDeep(e.state.columns);i.forEach(function(e){"userRole"===e.key&&(e.filters=n)}),e.setState({columns:i})})}},{key:"onTableChange",value:function(e){var t=this;if("page"===e.type||"pageSize"===e.type)this.setState({page:Object(E.a)({},this.state.page,{},e.data)},function(){return t.getUserListData()});else if("selection"===e.type)this.setState({selectionDataIds:e.data.ids});else if("filter"===e.type)if("date"===e.data.type){var a=e.data.data.dateString?e.data.data.dateString:"";this.setState({searchData:Object(E.a)({},this.state.searchData,{filterTime:a})},function(){return t.getUserListData()})}else{var n=Ne.a.isArray(e.data.value)?e.data.value.join(","):e.data.value;this.setState({searchData:Object(E.a)({},this.state.searchData,{role:n})},function(){return t.getUserListData()})}}},{key:"searchHandler",value:function(e){var t=this;this.setState({searchData:Object(E.a)({},this.state.searchData,{value:e})},function(){return t.getUserListData()})}},{key:"addHandler",value:function(){this.props.history.push({pathname:"/userManage/list/new",search:"?type=new"})}},{key:"removeHandler",value:function(){var e,t=this,a={ids:this.state.selectionDataIds};(e=a,me("/fe/userManage/userList/delete/",e)).then(function(e){t.getUserListData()})}},{key:"resetHandler",value:function(){var e=this;this.setState({searchData:Object(E.a)({},this.state.searchData,{value:"",filterTime:"",role:""}),page:dt.tPage},function(){return e.getUserListData()}),this.refs.userManageList.clearFilterData()}},{key:"detailHandler",value:function(e){this.props.history.push({pathname:"/userManage/list/detail",search:"?id=".concat(e.id)})}},{key:"editHandler",value:function(e){this.props.history.push({pathname:"/userManage/list/new",search:"?type=edit&id=".concat(e.id)})}},{key:"delHandler",value:function(e){var t=this;this.setState({selectionDataIds:[e.id]},function(){return t.removeHandler()})}},{key:"editActiveChange",value:function(e,t){var a=this;(function(e){return me("/fe/userManage/userList/active/",e)})({id:t.id,isActive:e}).then(function(e){a.getUserListData()})}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.getUserListData(),this.getUserBussinesRoleList()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"user-manage-list"},i.a.createElement("div",{className:"flex filter-wrap"},i.a.createElement("div",{className:"flex filter-left"},i.a.createElement(N,{type:"primary",authId:"userManageListNewAdd",onClick:this.addHandler},"\u65b0\u589e"),i.a.createElement(N,{type:"danger",authId:"userManageListBatchDelete",onClick:this.removeHandler},"\u6279\u91cf\u5220\u9664")),i.a.createElement("div",{className:"flex filter-right"},i.a.createElement(ee,{value:this.state.searchData.value,className:"search-input",type:"search",placeholder:this.state.searchData.placeholder,onEnter:this.searchHandler}),i.a.createElement(N,{type:"primary",onClick:this.resetHandler},"\u91cd\u7f6e"))),i.a.createElement(rt,{ref:"userManageList",loading:this.state.loading,columns:this.state.columns,dataSource:this.state.dataSource,page:this.state.page,onTableChange:this.onTableChange},i.a.createElement("div",{slot:"isActive",render:function(t,a,n){return i.a.createElement("div",{className:"isActive"},i.a.createElement(lt,{value:a.isActive,onChange:function(t){return e.editActiveChange(t,a)}}))}}),i.a.createElement("div",{slot:"operate",render:function(t,a,n){return i.a.createElement("div",{className:"operate"},i.a.createElement(N,{type:"text",onClick:function(){return e.detailHandler(a)}},"\u67e5\u770b"),i.a.createElement(N,{type:"text",authId:"userManageListEdit",onClick:function(){return e.editHandler(a)}},"\u7f16\u8f91"),i.a.createElement(N,{type:"text",authId:"userManageListDelete",onClick:function(){return e.delHandler(a)}},"\u5220\u9664"))}})))}}]),a}(n.Component))||ct,bt=Object(j.b)(function(e){return{reload:e.Common.reload}},function(e){return{setReload:Object(O.b)(g,e)}})(vt),yt=(a(732),a(327)),jt=(a(734),a(496)),Ot=(a(266),a(117)),kt=Ot.a.Option,Dt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={value:void 0},e}return Object(c.a)(a,[{key:"changeHandler",value:function(e){this.setState({value:e}),this.props.onChange&&this.props.onChange(e)}},{key:"searchHandler",value:function(e){this.props.onSearch&&this.props.onSearch(e)}},{key:"componentWillReceiveProps",value:function(e){var t=e.value?e.value:void 0;this.setState({value:t})}},{key:"componentWillMount",value:function(){var e=this.props.value?this.props.value:void 0;this.setState({value:this.props.value||e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.type,n=t.options,r=t.style,s=(t.onSearch,t.onChange,Object(x.a)(t,["type","options","style","onSearch","onChange"])),o="treeSelect"===a?jt.a:Ot.a;return i.a.createElement(o,Object.assign({},s,{value:this.state.value,className:"c-select",style:Object(E.a)({},r),onSearch:function(t){return e.searchHandler(t)},onChange:function(t){return e.changeHandler(t)}}),"select"===a&&n.map(function(e,t){return i.a.createElement(kt,{key:t,value:e.value,disabled:e.disabled},e.name)}))}}]),a}(n.Component);Dt.defaultProps={type:"select",options:[],style:{}};var St=Dt,Et=(a(358),a(141)),wt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={value:""},n.changeHandler=n.changeHandler.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"changeHandler",value:function(e){var t=e.target.value;this.setState({value:t}),this.props.onChange&&this.props.onChange(t)}},{key:"componentWillMount",value:function(){var e=this.props.value||"";this.setState({value:e})}},{key:"render",value:function(){var e=this;return i.a.createElement(Et.a.Group,{onChange:function(t){return e.changeHandler(t)},value:this.state.value},this.props.options.map(function(t){return i.a.createElement(Et.a,{key:t.value,disabled:e.props.disabled,value:t.value},t.name)}))}}]),a}(n.Component),Ct=(a(126),a(65)),xt=(a(1136),a(497)),Mt=a(325),Nt=a.n(Mt),It=a(487),Lt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={uploads:{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",accept:".png,.jpg,.jpeg,.svg",disabled:!1,name:"file",listType:"picture-card",showUploadList:!0,defaultFileList:[],fileList:[],limit:1/0,size:2097152},previewVisible:!1,previewImage:""},n.beforeUpload=n.beforeUpload.bind(Object(w.a)(n)),n.handleChange=n.handleChange.bind(Object(w.a)(n)),n.modalCancel=n.modalCancel.bind(Object(w.a)(n)),n.removeFile=n.removeFile.bind(Object(w.a)(n)),n.onChange=n.onChange.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"initUploadState",value:function(e){if(e){var t=Ne.a.cloneDeep(e),a=t.fileList,n=Object(x.a)(t,["fileList"]);a&&Ne.a.isArray(a)&&(a.forEach(function(e){e.hasOwnProperty("id")&&(e.uid=e.id.toString(),e.status="done",e.thumbUrl=e.url)}),this.setState({uploads:Object(E.a)({},this.state.uploads,{},n,{fileList:a})}))}}},{key:"getBase64",value:function(e){return new Promise(function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}})}},{key:"handlePreview",value:function(){var e=Object(It.a)(Nt.a.mark(function e(t){return Nt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.url||t.preview){e.next=4;break}return e.next=3,this.getBase64(t.originFileObj);case 3:t.preview=e.sent;case 4:this.setState({previewImage:t.url||t.preview,previewVisible:!0});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"beforeUpload",value:function(e,t){var a=e.name,n=e.size,i=a.split(".").pop(),r=this.state.uploads.accept.split(",");return this.state.uploads.size<n?(_.a.info("\u6587\u4ef6\u5927\u5c0f\u8d85\u8fc7\u6700\u5927\u9650\u5236"),!1):!!r.includes(".".concat(i))||(_.a.info("\u8bf7\u4e0a\u4f20\u6307\u5b9a\u7684\u6587\u4ef6\u7c7b\u578b"),!1)}},{key:"handleChange",value:function(e){var t=e.file,a=e.fileList;e.event;if("done"===t.status){var n=[];a.forEach(function(e){e.response?(e.response.uid=e.uid,n.push(e.response)):n.push(e)}),this.setState({uploads:Object(E.a)({},this.state.uploads,{},{fileList:a})}),this.onChange(n)}else"uploading"===t.status?this.setState({uploads:Object(E.a)({},this.state.uploads,{fileList:a})}):a.length>0&&a.pop()}},{key:"removeFile",value:function(e){var t=e.uid,a=Ne.a.cloneDeep(this.state.uploads.fileList),n=a.findIndex(function(e){return e.uid===t});a.splice(n,1),this.setState({uploads:Object(E.a)({},this.state.uploads,{},{fileList:a})}),this.onChange(a)}},{key:"onChange",value:function(e){this.props.onChange&&this.props.onChange(e)}},{key:"modalCancel",value:function(){this.setState({previewVisible:!1})}},{key:"componentWillReceiveProps",value:function(e){this.initUploadState(e)}},{key:"componentWillMount",value:function(){this.initUploadState(this.props)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=i.a.createElement("div",null,i.a.createElement(D.a,{type:"plus"}),i.a.createElement("div",{className:"ant-upload-text"},"\u70b9\u51fb\u4e0a\u4f20\u6587\u4ef6"));return i.a.createElement("div",{className:"c-upload ".concat(this.props.className)},i.a.createElement(xt.a,Object.assign({},this.state.uploads,{className:"avatar-uploader",onPreview:function(t){return e.handlePreview(t)},beforeUpload:function(t,a){return e.beforeUpload(t,a)},onRemove:function(t){return e.removeFile(t)},onChange:function(t){var a=t.file,n=t.fileList,i=t.event;return e.handleChange({file:a,fileList:n,event:i})}}),this.state.uploads.limit<=this.state.uploads.fileList.length?null:t),i.a.createElement(Ct.a,{visible:this.state.previewVisible,footer:null,onCancel:this.modalCancel},i.a.createElement("img",{alt:"example",style:{width:"100%"},src:this.state.previewImage})))}}]),a}(n.Component);Lt.defaultProps={};var Tt=Lt,Rt="error",Ht="\u5fc5\u586b\u9879",At="\u90ae\u7bb1\u683c\u5f0f\u4e0d\u6b63\u786e",Ut="\u8eab\u4efd\u8bc1\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e",Ft="\u624b\u673a\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e",Pt="\u6700\u5927\u957f\u5ea6",qt="\u6700\u5c0f\u957f\u5ea6",zt={email:/^([A-Za-z0-9_\-.])+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]{2,8})+$/,card:/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|[xX])$/,phone:/^((13|14|15|16|17|18|19)[0-9]{1}\d{8})$/},Wt={validate:!0,info:"",validateStatus:""},Bt={required:function(e){return!e||e instanceof Array&&!e.length?Object(E.a)({},Wt,{validateStatus:Rt,validate:!1,info:Ht}):Object(E.a)({},Wt,{validateStatus:"",validate:!0,info:""})},email:function(e){return zt.email.test(e)?Object(E.a)({},Wt,{validateStatus:"",validate:!0,info:""}):Object(E.a)({},Wt,{validateStatus:Rt,validate:!1,info:At})},card:function(e){return zt.card.test(e)?Object(E.a)({},Wt,{validateStatus:"",validate:!0,info:""}):Object(E.a)({},Wt,{validateStatus:Rt,validate:!1,info:Ut})},phone:function(e){return zt.phone.test(e)?Object(E.a)({},Wt,{validateStatus:"",validate:!0,info:""}):Object(E.a)({},Wt,{validateStatus:Rt,validate:!1,info:Ft})},maxLength:function(e,t){return e.length>Number(t)?Object(E.a)({},Wt,{validateStatus:Rt,validate:!1,info:"".concat(Pt).concat(t)}):Object(E.a)({},Wt,{validateStatus:"",validate:!0,info:""})},minLength:function(e,t){return e.length<Number(t)?Object(E.a)({},Wt,{validateStatus:Rt,validate:!1,info:"".concat(qt).concat(t)}):Object(E.a)({},Wt,{validateStatus:"",validate:!0,info:""})}},Gt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={validateStatus:"",validate:!0,info:"",value:""},n.onChange=n.onChange.bind(Object(w.a)(n)),n.onSearch=n.onSearch.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"validateHandler",value:function(e){if(!this.props.checkType)return!0;for(var t=this.props.checkType.split("|"),a=null,n=0;n<t.length;n++){var i=t[n],r="";if(i.includes(":")&&(r=i.split(":"),i=r[0],r=r[1]),!(a=Bt[i](e,r)).validate)break}return this.setState({validateStatus:a.validateStatus,validate:a.validate,info:a.info}),a.validate}},{key:"onChange",value:function(e){this.setState({value:e}),this.validateHandler(e),this.props.onChange&&this.props.onChange(e)}},{key:"onSearch",value:function(e){this.props.onSearch&&this.props.onSearch(e)}},{key:"componentWillReceiveProps",value:function(e){this.setState({value:e.value})}},{key:"componentWillMount",value:function(){this.setState({value:this.props.value})}},{key:"render",value:function(){var e=["input","number","search","password","textarea"].includes(this.props.type),t=["select","treeSelect"].includes(this.props.type),a=["checkbox"].includes(this.props.type),n=["switch"].includes(this.props.type),r=["radio"].includes(this.props.type),s=["date","mouth","range","week"].includes(this.props.type),o=["img"].includes(this.props.type),c={};return(this.props.expand||Ne.a.isObject(this.props.expand))&&(c=Ne.a.cloneDeep(this.props.expand)),i.a.createElement("div",{className:"c-form"},i.a.createElement("div",{className:"flex c-form-content"},this.props.label&&i.a.createElement("div",{className:"c-form-label ellipsis",title:this.props.label},this.props.checkType.includes("required")&&i.a.createElement("span",{className:"required-icon"},"*"),this.props.label),i.a.createElement("div",{className:"c-form-content-form"},i.a.createElement(yt.a,null,i.a.createElement(yt.a.Item,{className:"c-form-item",validateStatus:this.state.validateStatus},e&&i.a.createElement(ee,Object.assign({},c,{type:this.props.type,value:this.state.value,placeholder:this.props.placeholder,disabled:this.props.disabled,onChange:this.onChange})),t&&i.a.createElement(St,Object.assign({},c,{type:this.props.type,value:this.state.value,options:this.props.options,placeholder:this.props.placeholder,disabled:this.props.disabled,onChange:this.onChange,onSearch:this.onSearch})),a&&i.a.createElement(Ve,{value:this.state.value,disabled:this.props.disabled,onChange:this.onChange},this.props.checkName),n&&i.a.createElement(lt,Object.assign({},c,{value:this.state.value,disabled:this.props.disabled,onChange:this.onChange})),r&&i.a.createElement(wt,Object.assign({},c,{disabled:this.props.disabled,value:this.state.value,options:this.props.options,onChange:this.onChange})),s&&i.a.createElement($e,Object.assign({},c,{type:this.props.type,disabled:this.props.disabled,value:this.state.value,onChange:this.onChange})),o&&i.a.createElement(Tt,Object.assign({},c,{type:this.props.type,fileList:this.state.value,onChange:this.onChange,disabled:this.props.disabled})))))),i.a.createElement("div",{className:"c-form-error-info ".concat(this.props.label?"":"c-form-none-label")},this.state.info))}}]),a}(n.Component),Jt=(a(813),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={data:[]},n.onChange=n.onChange.bind(Object(w.a)(n)),n.onSearch=n.onSearch.bind(Object(w.a)(n)),n.submitHandler=n.submitHandler.bind(Object(w.a)(n)),n.cancelHandler=n.cancelHandler.bind(Object(w.a)(n)),n.validateFormAll=n.validateFormAll.bind(Object(w.a)(n)),n.getValueAll=n.getValueAll.bind(Object(w.a)(n)),n.initFormatData=n.initFormatData.bind(Object(w.a)(n)),n.setDataByKeyForValue=n.setDataByKeyForValue.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"onChange",value:function(e,t){this.setDataByKeyForValue(e,t),this.props.onChange&&this.props.onChange({data:e,value:t})}},{key:"onSearch",value:function(e,t){this.props.onSearch&&this.props.onSearch({data:e,value:t})}},{key:"setDataByKeyForValue",value:function(e,t){var a=Ne.a.cloneDeep(this.state.data);a.forEach(function(a){a.data&&a.data.forEach(function(a){Ne.a.isArray(a)?a.forEach(function(a){e.id===a.id&&(a.value=t)}):e.id===a.id&&(a.value=t)})}),this.setState({data:a})}},{key:"getValueAll",value:function(e){var t={};return e.forEach(function(e){e.data&&e.data.forEach(function(e){Ne.a.isArray(e)?e.forEach(function(e){e.show&&(t[e.id]=e.value)}):e.show&&(t[e.id]=e.value)})}),t}},{key:"validateFormAll",value:function(e){var t=this,a=[];return Object.keys(this.refs).forEach(function(n){var i=t.refs[n];if(i.props.show){var r=e[i.props.id];a.push(i.validateHandler(r))}}),!a.includes(!1)}},{key:"dealDataFormat",value:function(){var e={};return this.state.data.forEach(function(t){t.data&&t.data.forEach(function(t){Ne.a.isArray(t)?t.forEach(function(a){t.show&&Object(L.f)(e,a.jpath,a.value)}):t.show&&Object(L.f)(e,t.jpath,t.value)})}),e}},{key:"submitHandler",value:function(){var e=this.getValueAll(this.state.data),t=this.validateFormAll(e),a={status:t,data:{}};return t?(a.data=this.dealDataFormat(),this.props.onSubmit&&this.props.onSubmit(a),a):null}},{key:"cancelHandler",value:function(){this.props.history.goBack(),this.props.onCancel&&this.props.onCancel()}},{key:"componentWillReceiveProps",value:function(e){this.initFormatData(e.data)}},{key:"initFormatData",value:function(e){var t=Ne.a.cloneDeep(e),a=Object(L.j)(this.props.history.location.search),n="newDisabled",i="newShow";a.query&&"edit"===a.query.type&&(n="editDisabled",i="editShow"),Ne.a.isArray(t)&&t.forEach(function(e){e.data&&e.data.forEach(function(e){Ne.a.isArray(e)?e.forEach(function(e){e.disabled=e[n]||!1,e.show=e[i]||!1}):(e.disabled=e[n]||!1,e.show=e[i]||!1)})}),this.setState({data:t})}},{key:"componentWillMount",value:function(){this.initFormatData(this.props.data);var e=this.getValueAll(this.props.data);this.validateFormAll(e)}},{key:"componentDidMount",value:function(){this.props.onRef&&this.props.onRef(this)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"c-page-new"},!!this.state.data.length&&this.state.data.map(function(t,a){return i.a.createElement("div",{className:"c-page-new-item",key:t.id},t.title&&i.a.createElement("div",{className:"flex c-page-new-item-title"},i.a.createElement("span",{className:"title-before-icon"}),t.title),!!t.data.length&&t.data.map(function(t,a){return i.a.createElement("div",{className:"flex c-page-form",key:t.id},Ne.a.isArray(t)&&t.map(function(t,a){return i.a.createElement(i.a.Fragment,{key:t.id},t.show&&i.a.createElement("div",{className:"c-page-form-item"},i.a.createElement(Gt,Object.assign({},t,{ref:t.id,label:t.name,onChange:function(a){return e.onChange(t,a)},onSearch:function(a){return e.onSearch(t,a)}}))))}),Ne.a.isObject(t)&&t.show&&i.a.createElement("div",{className:"c-page-form-item"},i.a.createElement(Gt,Object.assign({},t,{ref:t.id,label:t.name,onChange:function(a){return e.onChange(t,a)},onSearch:function(a){return e.onSearch(t,a)}}))))}))}),this.props.footerShow&&i.a.createElement("div",{className:"c-page-footer-button"},i.a.createElement(N,{size:"larger",type:"primary",onClick:this.submitHandler},"\u786e\u5b9a"),i.a.createElement(N,{size:"larger",onClick:this.cancelHandler},"\u53d6\u6d88")))}}]),a}(n.Component));Jt.defaultProps={footerShow:!0};var Kt,Vt=Object(u.f)(Jt),Yt=[{id:"baseInfo",title:"\u57fa\u672c\u4fe1\u606f",data:[{id:"name",name:"\u59d3\u540d",placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d",type:"input",checkType:"required",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:"",options:[],expand:{},jpath:"name"},{id:"password",name:"\u5bc6\u7801",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u5bc6\u7801",type:"input",checkType:"required",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:"",options:[],expand:{},jpath:"password"},{id:"sex",name:"\u6027\u522b",placeholder:"",type:"radio",checkType:"required",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:"1",options:[{value:"1",name:"\u7537"},{value:"0",name:"\u5973"}],expand:{},jpath:"sex.id"},{id:"userRole",name:"\u7528\u6237\u89d2\u8272",placeholder:"\u8bf7\u9009\u62e9\u7528\u6237\u89d2\u8272",type:"select",checkType:"required",newDisabled:!0,editDisabled:!0,newShow:!0,editShow:!0,value:"",options:[],expand:{},jpath:"userRole.id"},{id:"address",name:"\u8be6\u7ec6\u4f4f\u5740",placeholder:"\u8bf7\u8f93\u5165\u8be6\u7ec6\u4f4f\u5740",type:"select",checkType:"required",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:"",options:[],expand:{showSearch:!0,filterOption:!1,defaultActiveFirstOption:!1},jpath:"address"},{id:"IDCard",name:"\u8eab\u4efd\u8bc1\u53f7",placeholder:"\u8bf7\u8f93\u5165\u8eab\u4efd\u8bc1\u53f7",type:"input",checkType:"required|card",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:"",options:[],expand:{},jpath:"IDCard"},{id:"phone",name:"\u624b\u673a\u53f7\u7801",placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801",type:"number",checkType:"required|phone",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:"",options:[],expand:{},jpath:"phone"},{id:"email",name:"\u90ae\u7bb1",placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",type:"input",checkType:"required|email",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:"",options:[],expand:{},jpath:"email"},{id:"IDCardPicture",name:"\u4e0a\u4f20\u8eab\u4efd\u8bc1\u7167\u7247",placeholder:"\u8bf7\u4e0a\u4f20\u8eab\u4efd\u8bc1\u7167\u7247",type:"img",checkType:"required|minLength:2",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:[],options:[],expand:{limit:2},jpath:"IDCardPicture"}]}],_t=(a(814),te(Kt=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={data:Yt,editFlag:!1,addressInfo:null},n.onChange=n.onChange.bind(Object(w.a)(n)),n.onSubmit=n.onSubmit.bind(Object(w.a)(n)),n.onSearch=n.onSearch.bind(Object(w.a)(n)),n.getUserBussinesRoleListData=n.getUserBussinesRoleListData.bind(Object(w.a)(n)),n.getUserDetailData=n.getUserDetailData.bind(Object(w.a)(n)),n.getAMapKeywordsSearchData=Ne.a.debounce(n.getAMapKeywordsSearchData,100).bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"onChange",value:function(e){var t=null;"address"===e.data.id&&(t=e.data.options.filter(function(t){return t.value===e.value})),this.setState({data:Object(L.g)(this.state.data,e.data.id,"value",e.value),addressInfo:t&&t.length?t[0]:null})}},{key:"onSearch",value:function(e,t){"address"===e.data.id&&this.getAMapKeywordsSearchData(e.value)}},{key:"onSubmit",value:function(e){var t=this,a=null;"edit"===Object(L.j)(this.props.history.location.search).query.type?(e.data.id=Object(L.j)(this.props.history.location.search).query.id,a=ht):a=ut,e.data.address=this.state.addressInfo?this.state.addressInfo.name:"",e.data.latlong=this.state.addressInfo?this.state.addressInfo.location:[0,0],a(e.data).then(function(e){t.props.history.goBack()}).catch(function(e){})}},{key:"getUserDetailData",value:function(){var e=this,t=Object(L.j)(this.props.history.location.search).query.id;pt({id:t}).then(function(t){e.setState({data:Object(L.h)(e.state.data,t.data.userInfo)})}).catch(function(e){})}},{key:"getUserBussinesRoleListData",value:function(){var e=this;fe().then(function(t){var a=t.data.list,n=[];a.forEach(function(e){n.push({value:e.id.toString(),name:e.name})});var i=Object(L.g)(e.state.data,"userRole","options",n);e.state.editFlag||(i=Object(L.g)(i,"userRole","value","7")),e.setState({data:i})}).catch(function(e){})}},{key:"getAMapKeywordsSearchData",value:function(e){var t=this;be({keywords:e||""}).then(function(e){var a=e.pois,n=[];a.forEach(function(e){var t=e.location.split(",").reverse();n.push({value:e.id.toString(),name:e.name,location:t})}),t.setState({data:Object(L.g)(t.state.data,"address","options",n)})})}},{key:"componentWillMount",value:function(){this.getUserBussinesRoleListData(),"edit"===Object(L.j)(this.props.history.location.search).query.type&&(this.setState({editFlag:!0}),this.getUserDetailData())}},{key:"render",value:function(){return i.a.createElement("div",{className:"user-manage-list-new"},i.a.createElement(Vt,{data:this.state.data,onChange:this.onChange,onSearch:this.onSearch,onSubmit:this.onSubmit}))}}]),a}(n.Component))||Kt),Xt=a(493),$t=a.n(Xt),Zt=(a(815),a(816),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={swiper:null,options:{autoplay:{disableOnInteraction:!1},loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}}},n.initSwiper=n.initSwiper.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"initSwiper",value:function(){var e=new $t.a(".c-swiper-container",this.state.options);this.setState({swiper:e})}},{key:"componentWillMount",value:function(){this.setState({options:Object(E.a)({},this.state.options,{},this.props.options)})}},{key:"componentDidMount",value:function(){this.initSwiper()}},{key:"render",value:function(){return i.a.createElement("div",{className:"c-swiper"},i.a.createElement("div",{className:"c-swiper-container swiper-container"},i.a.createElement("div",{className:"swiper-wrapper"},this.props.data.map(function(e,t){return i.a.createElement("div",{className:"swiper-slide",key:t},i.a.createElement("img",{src:e.url,alt:""}))})),i.a.createElement("div",{className:"swiper-button-prev"},i.a.createElement("i",{className:"fa fa-angle-left"})),i.a.createElement("div",{className:"swiper-button-next"},i.a.createElement("i",{className:"fa fa-angle-right"})),i.a.createElement("div",{className:"swiper-pagination"})))}}]),a}(n.Component));Zt.defaultProps={data:[]};var Qt=Zt,ea=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={data:[],swiperData:[],modalVisible:!1},n.imgModalLook=n.imgModalLook.bind(Object(w.a)(n)),n.modalCancelHandler=n.modalCancelHandler.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"imgModalLook",value:function(e){if(e.value){var t=e.value;Ne.a.isArray(e.value)||(t=[t]),this.setState({swiperData:t,modalVisible:!0})}}},{key:"modalCancelHandler",value:function(){this.setState({modalVisible:!1})}},{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.data.slice(0,Math.ceil(this.props.data.length/2)),a=this.props.data.slice(Math.ceil(this.props.data.length/2));return i.a.createElement("div",{className:"flex c-detail-info-item",ref:"CDetailInfoItem"},i.a.createElement("div",{className:"info-col info-col-one"},t.map(function(t,a){return i.a.createElement("div",{className:"flex info-row",key:t.id},i.a.createElement("div",{className:"info-row-label ellipsis",title:t.name},t.name),"img"===t.type?i.a.createElement("div",{className:"info-row-content img-look ellipsis",onClick:function(){return e.imgModalLook(t)}},"\u67e5\u770b"):i.a.createElement("div",{className:"info-row-content ellipsis",title:t.value},t.value||i.a.createElement("span",{className:"none-value"},"\u6682\u65e0")))})),i.a.createElement("div",{className:"info-col-null"}),i.a.createElement("div",{className:"info-col info-col-two"},a.map(function(t,a){return i.a.createElement("div",{className:"flex info-row",key:t.id},i.a.createElement("div",{className:"info-row-label ellipsis",title:t.name},t.name),"img"===t.type?i.a.createElement("div",{className:"info-row-content img-look ellipsis",onClick:function(){return e.imgModalLook(t)}},"\u67e5\u770b"):i.a.createElement("div",{className:"info-row-content ellipsis",title:t.value},t.value||i.a.createElement("span",{className:"none-value"},"\u6682\u65e0")))})),i.a.createElement(Ct.a,{width:"700px",getContainer:function(){return e.refs.CDetailInfoItem},visible:this.state.modalVisible,onCancel:this.modalCancelHandler,destroyOnClose:!0,footer:null},i.a.createElement(Qt,{data:this.state.swiperData})))}}]),a}(n.Component);ea.defaultProps={data:[]};var ta=ea,aa=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentWillMount",value:function(){}},{key:"render",value:function(){var e=this;return console.log(this.props.children,"this.props.children"),i.a.createElement("div",{className:"c-detail-info"},this.props.data&&!!this.props.data.length&&this.props.data.map(function(t,a){return i.a.createElement("div",{className:"c-detail-info-base-item",key:t.id},t.title&&i.a.createElement(we,{title:t.title}),!!t.data.length&&!t.slot&&i.a.createElement(ta,{data:t.data}),!!t.data.length&&t.slot&&Ne.a.isArray(e.props.children)&&e.props.children.map(function(e,a){return e.props.slot===t.slot&&e}),t.slot&&!Ne.a.isArray(e.props.children)&&e.props.children.props.slot===t.slot&&e.props.children)}))}}]),a}(n.Component);aa.defaultProps={data:[]};var na=aa,ia=(a(817),a(501)),ra=(a(819),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"c-avatar flex"},i.a.createElement("img",{className:"c-avatar-img",src:this.props.avatar,alt:"\u5934\u50cf"}),i.a.createElement("div",{className:"c-avatar-info"},i.a.createElement("p",{className:"c-avatar-title"},this.props.title),"rate"===this.props.type&&i.a.createElement("div",null,i.a.createElement(ia.a,{className:"c-avatar-rate",value:this.props.rate,disabled:!0})),i.a.createElement("div",{className:"c-avatar-description"},this.props.description)))}}]),a}(n.Component));ra.defaultProps={type:"user"};var sa,oa,ca,la,da,ua,ha,pa,ma,fa,ga,va,ba,ya,ja,Oa,ka=ra,Da=[{id:"baseInfo",title:"\u57fa\u672c\u4fe1\u606f",data:[{id:"id",name:"\u7528\u6237ID",value:"",type:"input",jpath:"id"},{id:"name",name:"\u59d3\u540d",value:"",type:"input",jpath:"name"},{id:"password",name:"\u5bc6\u7801",value:"",type:"input",jpath:"password"},{id:"phone",name:"\u624b\u673a\u53f7",value:"",type:"input",jpath:"phone"},{id:"IDCard",name:"\u8eab\u4efd\u8bc1\u53f7",value:"",type:"input",jpath:"IDCard"},{id:"sex",name:"\u6027\u522b",value:"",type:"input",jpath:"sex.name"},{id:"userRole",name:"\u7528\u6237\u89d2\u8272",value:"",type:"input",jpath:"userRole.name"},{id:"email",name:"\u90ae\u7bb1",value:"",type:"input",jpath:"email"},{id:"address",name:"\u5730\u5740",value:"",type:"input",jpath:"address"},{id:"latlong",name:"\u7ecf\u7eac\u5ea6",value:"",type:"input",jpath:"latlong"},{id:"storeNum",name:"\u5e97\u94fa\u6570\u91cf",value:"",type:"input",jpath:"storeNum"},{id:"createTime",name:"\u521b\u5efa\u65f6\u95f4",value:"",type:"input",jpath:"createTime"},{id:"IDCardPictrue",name:"\u8eab\u4efd\u8bc1\u53f7\u7167\u7247",value:[],type:"img",jpath:"IDCardPicture"}]},{id:"storeInfo",title:"\u5e97\u94fa\u4fe1\u606f",slot:"storeInfo",data:[]}],Sa={tHead:[{key:"id",title:"\u5e97\u94faID",dataIndex:"id"},{key:"storeName",dataIndex:"storeName",title:"\u5e97\u94fa\u540d\u79f0"}],tBody:[],tPage:{total:0,page:1,pageSize:10}},Ea=te(sa=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={data:Da,columns:Sa.tHead,dataSource:Sa.tBody,avatar:{img:"",title:"",description:""}},n.getUserDetailData=n.getUserDetailData.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"getUserDetailData",value:function(){var e=this,t=Object(L.j)(this.props.history.location.search).query.id;pt({id:t}).then(function(t){var a=t.data.userInfo;a.latlong=a.latlong.join(",");var n=t.data.storeList,i=Object(L.h)(e.state.data,a);e.setState({data:i,dataSource:n,avatar:{img:a.avatar&&a.avatar.url,title:a.name,description:""}})}).catch(function(e){})}},{key:"componentDidMount",value:function(){this.getUserDetailData()}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(ka,{avatar:this.state.avatar.img,title:this.state.avatar.title,description:this.state.avatar.description}),i.a.createElement(na,{data:this.state.data},i.a.createElement("div",{slot:"storeInfo"},i.a.createElement(rt,{checked:!1,scroll:!1,columns:this.state.columns,dataSource:this.state.dataSource}))))}}]),a}(n.Component))||sa,wa={tHead:[{key:"id",title:"id",dataIndex:"id"},{key:"name",dataIndex:"name",title:"\u59d3\u540d"},{key:"password",dataIndex:"password",title:"\u5bc6\u7801"},{key:"email",dataIndex:"email",title:"\u90ae\u7bb1"},{key:"phone",dataIndex:"phone",title:"\u8054\u7cfb\u7535\u8bdd"},{key:"userRole",dataIndex:"userRole.name",title:"\u89d2\u8272",filterMultiple:!1,filters:[]},{key:"createTime",dataIndex:"createTime",title:"\u521b\u5efa\u65f6\u95f4",filterMultiple:!0,filterDate:"range"},{key:"operate",dataIndex:"operate",title:"\u64cd\u4f5c",fixed:"right",width:100,slot:"operate"}],tBody:[],tPage:{total:0,page:1,pageSize:10}},Ca=(a(820),te(oa=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={columns:wa.tHead,dataSource:wa.tBody,page:wa.tPage,loading:!0,searchData:{value:"",filterTime:"",role:"",placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d/\u90ae\u7bb1/\u624b\u673a\u53f7\u7801"},selectionDataIds:[]},n.getUserAdminListData=n.getUserAdminListData.bind(Object(w.a)(n)),n.getUserAdminRoleListData=n.getUserAdminRoleListData.bind(Object(w.a)(n)),n.onTableChange=n.onTableChange.bind(Object(w.a)(n)),n.searchHandler=n.searchHandler.bind(Object(w.a)(n)),n.addHandler=n.addHandler.bind(Object(w.a)(n)),n.removeHandler=n.removeHandler.bind(Object(w.a)(n)),n.resetHandler=n.resetHandler.bind(Object(w.a)(n)),n.detailHandler=n.detailHandler.bind(Object(w.a)(n)),n.editHandler=n.editHandler.bind(Object(w.a)(n)),n.delHandler=n.delHandler.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){console.log("00999dd11"),this.getUserAdminListData(),this.getUserAdminRoleListData()}},{key:"getUserAdminListData",value:function(){var e,t=this,a={page:this.state.page.page,pageSize:this.state.page.pageSize,search:this.state.searchData.value,role:this.state.searchData.role,startTime:this.state.searchData.filterTime[0]||"",endTime:this.state.searchData.filterTime[1]||""};this.setState({loading:!0}),(e=a,pe("/fe/userManage/adminList/get/",e)).then(function(e){var a=e.data.list,n=e.data.pagination.total;t.setState({dataSource:a,page:Object(E.a)({},t.state.page,{total:n}),loading:!1}),t.props.setReload(!1)})}},{key:"getUserAdminRoleListData",value:function(){var e=this;ge().then(function(t){var a=t.data.list,n=[];a.forEach(function(e){n.push({value:e.id,text:e.name})});var i=Ne.a.cloneDeep(e.state.columns);i.forEach(function(e){"userRole"===e.key&&(e.filters=n)}),e.setState({columns:i})})}},{key:"onTableChange",value:function(e){var t=this;if("page"===e.type||"pageSize"===e.type)this.setState({page:Object(E.a)({},this.state.page,{},e.data)},function(){return t.getUserAdminListData()});else if("selection"===e.type)this.setState({selectionDataIds:e.data.ids});else if("filter"===e.type)if("date"===e.data.type){var a=e.data.data.dateString?e.data.data.dateString:"";this.setState({searchData:Object(E.a)({},this.state.searchData,{filterTime:a})},function(){return t.getUserAdminListData()})}else{var n=Ne.a.isArray(e.data.value)?e.data.value.join(","):e.data.value;this.setState({searchData:Object(E.a)({},this.state.searchData,{role:n})},function(){return t.getUserAdminListData()})}}},{key:"searchHandler",value:function(e){var t=this;this.setState({searchData:Object(E.a)({},this.state.searchData,{value:e})},function(){return t.getUserAdminListData()})}},{key:"addHandler",value:function(){this.props.history.push({pathname:"/userManage/admin/new",search:"?type=new"})}},{key:"removeHandler",value:function(){var e,t=this,a={ids:this.state.selectionDataIds};(e=a,me("/fe/userManage/adminList/delete/",e)).then(function(e){t.getUserAdminListData()})}},{key:"resetHandler",value:function(){var e=this;this.setState({searchData:Object(E.a)({},this.state.searchData,{value:"",filterTime:"",role:""}),page:wa.tPage},function(){return e.getUserAdminListData()}),this.refs.userManageList.clearFilterData()}},{key:"detailHandler",value:function(e){this.props.history.push({pathname:"/userManage/admin/detail",search:"?id=".concat(e.id)})}},{key:"editHandler",value:function(e){this.props.history.push({pathname:"/userManage/admin/new",search:"?type=edit&id=".concat(e.id)})}},{key:"delHandler",value:function(e){var t=this;this.setState({selectionDataIds:[e.id]},function(){return t.removeHandler()})}},{key:"componentWillMount",value:function(){console.log("00999dd")}},{key:"componentDidMount",value:function(){console.log("00999dd33"),this.getUserAdminListData(),this.getUserAdminRoleListData()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"user-manage-list"},i.a.createElement("div",{className:"flex filter-wrap"},i.a.createElement("div",{className:"flex filter-left"},i.a.createElement(N,{type:"primary",authId:"userManageAdminListNewAdd",onClick:this.addHandler},"\u65b0\u589e"),i.a.createElement(N,{type:"danger",authId:"userManageAdminListBatchDelete",onClick:this.removeHandler},"\u6279\u91cf\u5220\u9664")),i.a.createElement("div",{className:"flex filter-right"},i.a.createElement(ee,{value:this.state.searchData.value,className:"search-input",type:"search",placeholder:this.state.searchData.placeholder,onEnter:this.searchHandler}),i.a.createElement(N,{type:"primary",onClick:this.resetHandler},"\u91cd\u7f6e"))),i.a.createElement(rt,{ref:"userManageList",loading:this.state.loading,columns:this.state.columns,dataSource:this.state.dataSource,page:this.state.page,onTableChange:this.onTableChange},i.a.createElement("div",{slot:"operate",render:function(t,a,n){return i.a.createElement("div",{className:"operate"},i.a.createElement(N,{type:"text",onClick:function(){return e.detailHandler(a)}},"\u67e5\u770b"),i.a.createElement(N,{type:"text",authId:"userManageAdminListEdit",onClick:function(){return e.editHandler(a)}},"\u7f16\u8f91"),i.a.createElement(N,{type:"text",authId:"userManageAdminListDelete",onClick:function(){return e.delHandler(a)}},"\u5220\u9664"))}})))}}]),a}(n.Component))||oa),xa=Object(j.b)(function(e){return{reload:e.Common.reload}},function(e){return{setReload:Object(O.b)(g,e)}})(Ca),Ma=[{id:"baseInfo",title:"\u57fa\u672c\u4fe1\u606f",data:[{id:"name",name:"\u59d3\u540d",placeholder:"\u8bf7\u8f93\u5165\u59d3\u540d",type:"input",checkType:"required",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:"",options:[],expand:{},jpath:"name"},{id:"password",name:"\u5bc6\u7801",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u5bc6\u7801",type:"input",checkType:"required",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:"",options:[],expand:{},jpath:"password"},{id:"sex",name:"\u6027\u522b",placeholder:"",type:"radio",checkType:"required",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:"1",options:[{value:"1",name:"\u7537"},{value:"0",name:"\u5973"}],expand:{},jpath:"sex.id"},{id:"userRole",name:"\u7528\u6237\u89d2\u8272",placeholder:"\u8bf7\u9009\u62e9\u7528\u6237\u89d2\u8272",type:"select",checkType:"required",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:"",options:[],expand:{},jpath:"userRole.id"},{id:"phone",name:"\u624b\u673a\u53f7\u7801",placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801",type:"number",checkType:"required|phone",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:"",options:[],expand:{},jpath:"phone"},{id:"email",name:"\u90ae\u7bb1",placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",type:"input",checkType:"required|email",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:"",options:[],expand:{},jpath:"email"}]}],Na=(a(821),te(ca=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={data:Ma,editFlag:!1},n.onChange=n.onChange.bind(Object(w.a)(n)),n.onSubmit=n.onSubmit.bind(Object(w.a)(n)),n.getUserAdminRoleListData=n.getUserAdminRoleListData.bind(Object(w.a)(n)),n.getUserDetailData=n.getUserDetailData.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"onChange",value:function(e){this.setState({data:Object(L.g)(this.state.data,e.data.id,"value",e.value)})}},{key:"onSubmit",value:function(e){var t=this,a=null;this.state.editFlag?(e.data.id=Object(L.j)(this.props.history.location.search).query.id,a=ft):a=mt,a(e.data).then(function(e){t.props.history.goBack()}).catch(function(e){})}},{key:"getUserDetailData",value:function(){var e=this,t=Object(L.j)(this.props.history.location.search).query.id;gt({id:t}).then(function(t){console.log(t.data,"==---=="),e.setState({data:Object(L.h)(e.state.data,t.data.userInfo)})}).catch(function(e){})}},{key:"getUserAdminRoleListData",value:function(){var e=this;ge().then(function(t){var a=t.data.list,n=[];a.forEach(function(e){n.push({value:e.id,name:e.name})});var i=Object(L.g)(e.state.data,"userRole","options",n);e.setState({data:i})}).catch(function(e){})}},{key:"componentWillMount",value:function(){this.getUserAdminRoleListData(),"edit"===Object(L.j)(this.props.history.location.search).query.type&&(this.setState({editFlag:!0}),this.getUserDetailData())}},{key:"render",value:function(){return i.a.createElement("div",{className:"user-manage-list-new"},i.a.createElement(Vt,{data:this.state.data,onChange:this.onChange,onSubmit:this.onSubmit}))}}]),a}(n.Component))||ca),Ia=[{id:"baseInfo",title:"\u57fa\u672c\u4fe1\u606f",data:[{id:"id",name:"\u7528\u6237ID",value:"",type:"input",jpath:"id"},{id:"name",name:"\u59d3\u540d",value:"",type:"input",jpath:"name"},{id:"password",name:"\u5bc6\u7801",value:"",type:"input",jpath:"password"},{id:"phone",name:"\u624b\u673a\u53f7",value:"",type:"input",jpath:"phone"},{id:"sex",name:"\u6027\u522b",value:"",type:"input",jpath:"sex.name"},{id:"userRole",name:"\u7528\u6237\u89d2\u8272",value:"",type:"input",jpath:"userRole.name"},{id:"email",name:"\u90ae\u7bb1",value:"",type:"input",jpath:"email"},{id:"createTime",name:"\u521b\u5efa\u65f6\u95f4",value:"",type:"input",jpath:"createTime"}]}],La={path:"/userManage",component:qe,exact:!0,children:[{path:"/userManage/echarts",component:ze,exact:!0},{path:"/userManage/list",component:bt,exact:!0},{path:"/userManage/list/new",component:_t,exact:!0},{path:"/userManage/list/detail",component:Ea,exact:!0},{path:"/userManage/admin",component:xa,exact:!0},{path:"/userManage/admin/new",component:Na,exact:!0},{path:"/userManage/admin/detail",component:te(la=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={data:Ia,avatar:{img:"",title:"",description:""}},n.getUserDetailData=n.getUserDetailData.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"getUserDetailData",value:function(){var e=this,t=Object(L.j)(this.props.history.location.search).query.id;gt({id:t}).then(function(t){var a=t.data.userInfo,n=Object(L.h)(Ia,a);e.setState({data:n,avatar:{img:a.avatar&&a.avatar.url,title:a.name,description:""}})}).catch(function(e){})}},{key:"componentDidMount",value:function(){this.getUserDetailData()}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(ka,{avatar:this.state.avatar.img,title:this.state.avatar.title,description:this.state.avatar.description}),i.a.createElement(na,{data:this.state.data}))}}]),a}(n.Component))||la,exact:!0},{path:"/userManage/grade",component:We,exact:!0},{path:"/userManage/member",component:function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,"UserManageMember")}}]),a}(n.Component),exact:!0}]},Ta=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,this.props.children)}}]),a}(n.Component),Ra=function(e){return pe("/fe/storeManage/storeList/get/",e)},Ha=function(e){return me("/fe/storeManage/storeList/insert/",e)},Aa=function(e){return me("/fe/storeManage/storeList/edit/",e)},Ua=function(e){return pe("/fe/storeManage/storeList/detail/",e)},Fa=a(139),Pa=a.n(Fa),qa=(a(1116),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={echarts:null,options:null},n.initEcharts=n.initEcharts.bind(Object(w.a)(n)),n.initOptions=n.initOptions.bind(Object(w.a)(n)),n.resizeHandler=n.resizeHandler.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"initEcharts",value:function(){var e=this,t=Pa.a.init(this.refs.CEcharts);this.setState({echarts:t},function(){return e.initOptions(e.props.options)})}},{key:"initOptions",value:function(e){this.state.echarts&&e&&this.state.echarts.setOption(e)}},{key:"resizeHandler",value:function(){this.state.echarts&&this.state.echarts.resize()}},{key:"componentWillReceiveProps",value:function(e){this.initOptions(e.options),this.resizeHandler()}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.initEcharts()}},{key:"render",value:function(){var e=this.props.height,t={};return e&&(t={height:e}),i.a.createElement("div",{style:t,className:"c-echarts",ref:"CEcharts"})}}]),a}(n.Component)),za=Object(j.b)(function(e){return{windowInfo:e.Common.windowInfo}})(qa),Wa=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={options:{title:"",grid:{left:"5%",top:"10%",bottom:"2%",right:"2%",containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e,t,a){var n=e[1];return n?n.name+":"+n.value:n.value}},xAxis:{data:[],axisLabel:{textStyle:{color:"#666"}},axisTick:{show:!1},z:10},yAxis:{name:"\u6570\u91cf(\u4e2a)",max:"dataMax",axisTick:{show:!1},axisLabel:{textStyle:{color:"#666"}},splitLine:{lineStyle:{color:"#eee"}}},series:[{type:"bar",itemStyle:{normal:{color:"rgba(0,0,0,0.05)"}},barGap:"-100%",barCategoryGap:"40%",data:[],animation:!1},{type:"bar",itemStyle:{normal:{color:new Pa.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#83bff6"},{offset:.5,color:"#188df0"},{offset:1,color:"#188df0"}])},emphasis:{color:new Pa.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#2378f7"},{offset:.7,color:"#2378f7"},{offset:1,color:"#83bff6"}])}},data:[]}]}},n.initOptions=n.initOptions.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"initOptions",value:function(e){if(e){for(var t=[],a=Math.max.apply(Math,e.yData),n=0;n<e.yData.length;n++)t.push(a);var i=Ne.a.cloneDeep(this.state.options);i.xAxis.data=e.xData,i.series[0].data=t,i.series[1].data=e.yData,this.setState({options:i})}}},{key:"componentWillReceiveProps",value:function(e){this.initOptions(e.data)}},{key:"componentDidMount",value:function(){this.initOptions(this.props.data)}},{key:"render",value:function(){return i.a.createElement("div",{className:""},i.a.createElement(we,{title:"\u5e97\u94fa\u6309\u7c7b\u578b\u7edf\u8ba1"}),i.a.createElement(za,{options:this.state.options,height:"300px"}))}}]),a}(n.Component),Ba=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={options:{title:"",grid:{left:"5%",top:"10%",bottom:"2%",right:"2%",containLabel:!0},tooltip:{show:!0,trigger:"axis"},xAxis:{type:"time",axisLabel:{textStyle:{color:"#666"}},axisTick:{show:!1}},yAxis:{type:"value",name:"\u6570\u91cf(\u4e2a)",max:"dataMax",axisTick:{show:!1},axisLabel:{textStyle:{color:"#666"}},splitLine:{lineStyle:{color:"#eee"}}},series:[{name:"\u65b0\u589e\u5e97\u94fa\u6570\u91cf\u7edf\u8ba1",type:"line",showSymbol:!1,hoverAnimation:!1,itemStyle:{normal:{color:new Pa.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#83bff6"},{offset:.5,color:"#188df0"},{offset:1,color:"#188df0"}])}},data:[]}]}},n.initOptions=n.initOptions.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"initOptions",value:function(e){if(e){var t=Ne.a.cloneDeep(this.state.options);t.series[0].data=e,this.setState({options:t})}}},{key:"componentWillReceiveProps",value:function(e){this.initOptions(e.data)}},{key:"componentDidMount",value:function(){this.initOptions(this.props.data)}},{key:"render",value:function(){return i.a.createElement("div",{className:""},i.a.createElement(we,{title:"\u65b0\u589e\u5e97\u94fa\u6570\u91cf\u7edf\u8ba1"},this.props.children),i.a.createElement(za,{options:this.state.options,height:"300px"}))}}]),a}(n.Component),Ga=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={options:{color:["#f50","#13c2c2","#1e9fff","#67c23a"],title:"",grid:{left:"5%",top:"10%",bottom:"2%",right:"2%",containLabel:!0},tooltip:{show:!0,trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{axisLabel:{textStyle:{color:"#666"},rotate:20},axisTick:{show:!1},data:[]},yAxis:[{type:"category",data:["\u6781\u5dee","\u5dee","\u4e00\u822c","\u826f\u597d","\u4f18\u79c0"],name:"\u4fe1\u8a89\u7b49\u7ea7",max:"dataMax",axisTick:{show:!1},axisLabel:{textStyle:{color:"#666"}},splitLine:{lineStyle:{color:"#eee"}}},{type:"value",name:"\u8bc4\u5206",max:"dataMax",axisTick:{show:!1},axisLabel:{textStyle:{color:"#666"}},splitLine:{lineStyle:{color:"#eee"}}}],series:[{name:"\u4fe1\u8a89\u7b49\u7ea7",type:"line",data:[]},{name:"\u552e\u540e\u7b49\u7ea7",type:"bar",yAxisIndex:1,data:[]},{name:"\u661f\u7ea7\u7b49\u7ea7",type:"bar",yAxisIndex:1,data:[]}]}},n.initOptions=n.initOptions.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"initOptions",value:function(e){if(e){var t=Ne.a.cloneDeep(this.state.options);t.series[0].data=e.values[0],t.series[1].data=e.values[1],t.series[2].data=e.values[2],t.xAxis.data=e.storeNames,this.setState({options:t})}}},{key:"componentWillReceiveProps",value:function(e){this.initOptions(e.data)}},{key:"componentDidMount",value:function(){this.initOptions(this.props.data)}},{key:"render",value:function(){return i.a.createElement("div",{className:""},i.a.createElement(we,{title:"\u5e97\u94fa\u6392\u884c\u699cTop10"},this.props.children),i.a.createElement(za,{options:this.state.options,height:"300px"}))}}]),a}(n.Component),Ja=te(da=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={storeByCategoryData:null,newStoreEchartsData:null,storeRankEchartsAllData:null,storeRankEchartsData:null,filterDateActive:"all",filterRankActive:"creditGrade"},n.getStoreByCategoryData=n.getStoreByCategoryData.bind(Object(w.a)(n)),n.statisticsNewStoreData=n.statisticsNewStoreData.bind(Object(w.a)(n)),n.newStoreFilter=n.newStoreFilter.bind(Object(w.a)(n)),n.storeRankFilter=n.storeRankFilter.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"getStoreByCategoryData",value:function(){var e,t=this;pe("/fe/statistics/store/category/get",e).then(function(e){var a=e.data.list,n={xData:[],yData:[]};a.forEach(function(e){n.xData.push(e.name),n.yData.push(e.num)}),t.setState({storeByCategoryData:n})})}},{key:"statisticsNewStoreData",value:function(e){var t,a=this,n={};e&&(n={startTime:e[0],endTime:e[1]}),(t=n,pe("/fe/statistics/store/new/get",t)).then(function(e){var t=e.data.list,n=[];t.forEach(function(e){n.push([e.dateTime,e.num])}),a.setState({newStoreEchartsData:n})})}},{key:"newStoreFilter",value:function(e){var t=Object(L.a)();this.setState({filterDateActive:e}),"today"===e?this.statisticsNewStoreData([Object(L.b)(t,-7),t]):"oneMonth"===e?this.statisticsNewStoreData([Object(L.b)(t,-30),t]):"threeMonth"===e?this.statisticsNewStoreData([Object(L.b)(t,-90),t]):this.statisticsNewStoreData()}},{key:"statisticsStoreRankData",value:function(){var e,t=this;pe("/fe/statistics/store/rank/get",e).then(function(e){t.setState({storeRankEchartsAllData:e.data},function(){return t.storeRankFilter()})})}},{key:"storeRankFilter",value:function(e){e=e||"creditGrade";var t=this.state.storeRankEchartsAllData["".concat(e,"Top10")],a={storeNames:[],values:[]},n=[],i=[],r=[];t.forEach(function(e,t){a.storeNames.push(e.storeName),n.push([e.storeName,e.creditGrade.name]),i.push(e.serviceScore),r.push(e.rate)}),a.values.push(n,i,r),this.setState({filterRankActive:e,storeRankEchartsData:a})}},{key:"componentDidMount",value:function(){this.getStoreByCategoryData(),this.statisticsNewStoreData(),this.statisticsStoreRankData()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"store-manage-echarts"},i.a.createElement(Wa,{data:this.state.storeByCategoryData}),i.a.createElement(Ba,{data:this.state.newStoreEchartsData},i.a.createElement("div",{className:"filter-date"},i.a.createElement(N,{size:"small",type:"all"===this.state.filterDateActive?"primary":"default",onClick:function(){return e.newStoreFilter("all")}},"\u5168\u90e8"),i.a.createElement(N,{size:"small",type:"today"===this.state.filterDateActive?"primary":"default",onClick:function(){return e.newStoreFilter("today")}},"\u4eca\u5929"),i.a.createElement(N,{size:"small",type:"oneMonth"===this.state.filterDateActive?"primary":"default",onClick:function(){return e.newStoreFilter("oneMonth")}},"\u8fd1\u4e00\u4e2a\u6708"),i.a.createElement(N,{size:"small",type:"threeMonth"===this.state.filterDateActive?"primary":"default",onClick:function(){return e.newStoreFilter("threeMonth")}},"\u8fd1\u4e09\u4e2a\u6708"))),i.a.createElement(Ga,{data:this.state.storeRankEchartsData},i.a.createElement("div",{className:"filter-rank"},i.a.createElement(N,{size:"small",type:"creditGrade"===this.state.filterRankActive?"primary":"default",onClick:function(){return e.storeRankFilter("creditGrade")}},"\u4fe1\u8a89\u6392\u884c"),i.a.createElement(N,{size:"small",type:"serviceScore"===this.state.filterRankActive?"primary":"default",onClick:function(){return e.storeRankFilter("serviceScore")}},"\u552e\u540e\u6392\u884c"),i.a.createElement(N,{size:"small",type:"rate"===this.state.filterRankActive?"primary":"default",onClick:function(){return e.storeRankFilter("rate")}},"\u661f\u7ea7\u6392\u884c"))))}}]),a}(n.Component))||da,Ka={tHead:[{key:"id",title:"id",dataIndex:"id"},{key:"storeName",dataIndex:"storeName",title:"\u5e97\u94fa\u540d\u79f0"},{key:"storeAge",dataIndex:"storeAge",title:"\u5e97\u94fa\u5e74\u9650(\u5929)"},{key:"name",dataIndex:"user.name",title:"\u6240\u5c5e\u7528\u6237"},{key:"role",dataIndex:"user.userRole.name",title:"\u7528\u6237\u89d2\u8272"},{key:"address",dataIndex:"address",title:"\u5730\u5740"},{key:"category",dataIndex:"category.name",title:"\u5e97\u94fa\u5206\u7c7b",filterMultiple:!1},{key:"focusNum",dataIndex:"focusNum",title:"\u5173\u6ce8\u91cf"},{key:"creditGrade",dataIndex:"creditGrade.name",title:"\u4fe1\u8a89\u7b49\u7ea7"},{key:"createTime",dataIndex:"createTime",title:"\u521b\u5efa\u65f6\u95f4",filterMultiple:!0,filterDate:"range"},{key:"operate",dataIndex:"operate",title:"\u64cd\u4f5c",fixed:"right",width:100,slot:"operate"}],tBody:[],tPage:{total:0,page:1,pageSize:10}},Va=(a(1117),te(ua=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={columns:Ka.tHead,dataSource:Ka.tBody,page:Ka.tPage,loading:!0,searchData:{value:"",filterTime:"",category:"",placeholder:"\u8bf7\u8f93\u5165\u5e97\u94fa\u540d\u79f0/\u7528\u6237\u540d"},selectionDataIds:[]},n.getStoreListData=n.getStoreListData.bind(Object(w.a)(n)),n.onTableChange=n.onTableChange.bind(Object(w.a)(n)),n.searchHandler=n.searchHandler.bind(Object(w.a)(n)),n.addHandler=n.addHandler.bind(Object(w.a)(n)),n.removeHandler=n.removeHandler.bind(Object(w.a)(n)),n.resetHandler=n.resetHandler.bind(Object(w.a)(n)),n.detailHandler=n.detailHandler.bind(Object(w.a)(n)),n.editHandler=n.editHandler.bind(Object(w.a)(n)),n.delHandler=n.delHandler.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.getStoreListData()}},{key:"getStoreListData",value:function(){var e=this,t={page:this.state.page.page,pageSize:this.state.page.pageSize,search:this.state.searchData.value,category:this.state.searchData.category,startTime:this.state.searchData.filterTime[0]||"",endTime:this.state.searchData.filterTime[1]||""};this.setState({loading:!0}),Ra(t).then(function(t){var a=t.data.list,n=t.data.pagination.total;e.setState({dataSource:a,page:Object(E.a)({},e.state.page,{total:n}),loading:!1}),e.props.setReload(!1)})}},{key:"getStoreCategoryListData",value:function(){var e=this;ve().then(function(t){var a=t.data.list,n=[];a.forEach(function(e){n.push({value:e.id,text:e.name})});var i=Ne.a.cloneDeep(e.state.columns);i.forEach(function(e){"category"===e.key&&(e.filters=n)}),e.setState({columns:i})}).catch(function(e){})}},{key:"onTableChange",value:function(e){var t=this;if("page"===e.type||"pageSize"===e.type)this.setState({page:Object(E.a)({},this.state.page,{},e.data)},function(){return t.getStoreListData()});else if("selection"===e.type)this.setState({selectionDataIds:e.data.ids});else if("filter"===e.type)if("date"===e.data.type){var a=e.data.data.dateString?e.data.data.dateString:"";this.setState({searchData:Object(E.a)({},this.state.searchData,{filterTime:a})},function(){return t.getStoreListData()})}else{var n=Ne.a.isArray(e.data.value)?e.data.value.join(","):e.data.value;this.setState({searchData:Object(E.a)({},this.state.searchData,{category:n})},function(){return t.getStoreListData()})}}},{key:"searchHandler",value:function(e){var t=this;this.setState({searchData:Object(E.a)({},this.state.searchData,{value:e})},function(){return t.getStoreListData()})}},{key:"addHandler",value:function(){this.props.history.push({pathname:"/storeManage/list/new",search:"?type=new"})}},{key:"removeHandler",value:function(){var e={ids:this.state.selectionDataIds},t=this;Ct.a.confirm({title:"\u4f60\u786e\u5b9a\u5220\u9664\u4e48?",content:"",onOk:function(){var a;(a=e,me("/fe/storeManage/storeList/delete/",a)).then(function(e){t.getStoreListData()})},onCancel:function(){}})}},{key:"resetHandler",value:function(){var e=this;this.setState({searchData:Object(E.a)({},this.state.searchData,{value:"",filterTime:"",category:""}),page:Ka.tPage},function(){return e.getStoreListData()}),this.refs.userManageList.clearFilterData()}},{key:"detailHandler",value:function(e){this.props.history.push({pathname:"/storeManage/list/detail",search:"?id=".concat(e.id)})}},{key:"editHandler",value:function(e){this.props.history.push({pathname:"/storeManage/list/new",search:"?type=edit&id=".concat(e.id)})}},{key:"delHandler",value:function(e){var t=this;this.setState({selectionDataIds:[e.id]},function(){return t.removeHandler()})}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.getStoreListData(),this.getStoreCategoryListData()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"user-manage-list"},i.a.createElement("div",{className:"flex filter-wrap"},i.a.createElement("div",{className:"flex filter-left"},i.a.createElement(N,{type:"primary",authId:"storeManageListNewAdd",onClick:this.addHandler},"\u65b0\u589e"),i.a.createElement(N,{type:"danger",authId:"storeManageListBatchDelete",onClick:this.removeHandler},"\u6279\u91cf\u5220\u9664")),i.a.createElement("div",{className:"flex filter-right"},i.a.createElement(ee,{value:this.state.searchData.value,className:"search-input",type:"search",placeholder:this.state.searchData.placeholder,onEnter:this.searchHandler}),i.a.createElement(N,{type:"primary",onClick:this.resetHandler},"\u91cd\u7f6e"))),i.a.createElement(rt,{ref:"userManageList",loading:this.state.loading,columns:this.state.columns,dataSource:this.state.dataSource,page:this.state.page,onTableChange:this.onTableChange},i.a.createElement("div",{slot:"operate",render:function(t,a,n){return i.a.createElement("div",{className:"operate"},i.a.createElement(N,{type:"text",onClick:function(){return e.detailHandler(a)}},"\u67e5\u770b"),i.a.createElement(N,{type:"text",authId:"storeManageListEdit",onClick:function(){return e.editHandler(a)}},"\u7f16\u8f91"),i.a.createElement(N,{type:"text",authId:"storeManageListDelete",onClick:function(){return e.delHandler(a)}},"\u5220\u9664"))}})))}}]),a}(n.Component))||ua),Ya=Object(j.b)(function(e){return{reload:e.Common.reload}},function(e){return{setReload:Object(O.b)(g,e)}})(Va),_a=[{id:"baseInfo",title:"\u57fa\u672c\u4fe1\u606f",data:[{id:"storeName",name:"\u5e97\u94fa\u540d\u79f0",placeholder:"\u8bf7\u8f93\u5165\u5e97\u94fa\u540d\u79f0",type:"input",checkType:"required|maxLength:30",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:"",options:[],expand:{},jpath:"storeName"},{id:"user",name:"\u6240\u5c5e\u5546\u5bb6",placeholder:"\u8bf7\u9009\u62e9\u6240\u5c5e\u5546\u5bb6",type:"select",checkType:"required",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:"",options:[],expand:{showSearch:!0,filterOption:!1,defaultActiveFirstOption:!1},jpath:"user.id"},{id:"address",name:"\u5e97\u94fa\u5730\u5740",placeholder:"\u8bf7\u8f93\u5165\u5e97\u94fa\u5730\u5740",type:"select",checkType:"required",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:"",options:[],expand:{showSearch:!0,filterOption:!1,defaultActiveFirstOption:!1},jpath:"address"},{id:"category",name:"\u5e97\u94fa\u5206\u7c7b",placeholder:"\u8bf7\u9009\u62e9\u5e97\u94fa\u5206\u7c7b",type:"select",checkType:"required",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:"",options:[],expand:{},jpath:"category.id"},{id:"description",name:"\u5e97\u94fa\u63cf\u8ff0",placeholder:"\u8bf7\u8f93\u5165\u5e97\u94fa\u63cf\u8ff0",type:"textarea",checkType:"required",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:"",options:[],expand:{autosize:{minRows:3,maxRows:6}},jpath:"description"},{id:"organizationCode",name:"\u7ec4\u7ec7\u673a\u6784\u4ee3\u7801",placeholder:"\u8bf7\u8f93\u5165\u7ec4\u7ec7\u673a\u6784\u4ee3\u7801",type:"input",checkType:"required",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:"",options:[],expand:{},jpath:"organizationCode"},{id:"businessLicenseImg",name:"\u4e0a\u4f20\u8425\u4e1a\u6267\u7167",placeholder:"",type:"img",checkType:"required",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:[],options:[],expand:{limit:1},jpath:"businessLicenseImg"},{id:"avatarImg",name:"\u5e97\u94fa\u5934\u50cf",placeholder:"",type:"img",checkType:"",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:[],options:[],expand:{limit:1},jpath:"avatarImg"}]}],Xa=(a(1118),te(ha=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={data:_a,addressInfo:null},n.onChange=n.onChange.bind(Object(w.a)(n)),n.onSearch=n.onSearch.bind(Object(w.a)(n)),n.onSubmit=n.onSubmit.bind(Object(w.a)(n)),n.getStoreCategoryListData=n.getStoreCategoryListData.bind(Object(w.a)(n)),n.getUserBusniessListData=Ne.a.debounce(n.getUserBusniessListData,100).bind(Object(w.a)(n)),n.getAMapKeywordsSearchData=Ne.a.debounce(n.getAMapKeywordsSearchData,100).bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"onChange",value:function(e){var t=null;"address"===e.data.id&&(t=e.data.options.filter(function(t){return t.value===e.value})),this.setState({data:Object(L.g)(this.state.data,e.data.id,"value",e.value),addressInfo:t&&t.length?t[0]:null})}},{key:"onSearch",value:function(e,t){"address"===e.data.id?this.getAMapKeywordsSearchData(e.value):"user"===e.data.id&&this.getUserBusniessListData(e)}},{key:"onSubmit",value:function(e){var t=this;if(e.data.avatarImg){var a=[];e.data.avatarImg.forEach(function(e){a.push({id:e.uid,url:e.url})}),e.data.avatarImg=a.length?a[0]:""}var n=null;"edit"===Object(L.j)(this.props.history.location.search).query.type?(e.data.id=Object(L.j)(this.props.history.location.search).query.id,n=Aa):n=Ha,e.data.address=this.state.addressInfo?this.state.addressInfo.name:"",e.data.latlong=this.state.addressInfo?this.state.addressInfo.location:[0,0],n(e.data).then(function(e){t.props.history.goBack()}).catch(function(e){})}},{key:"getStoreDetailData",value:function(){var e=this,t=Object(L.j)(this.props.history.location.search).query.id;Ua({id:t}).then(function(t){console.log(t,"resresresres"),e.getUserBusniessListData(t.data.user.id),e.setState({data:Object(L.h)(e.state.data,t.data.userInfo)})}).catch(function(e){})}},{key:"getUserBusniessListData",value:function(e){var t=this,a={};a="object"===typeof e?{search:e.value}:{id:e},function(e){return pe("/fe/common/userListBusniess/get/",e)}(Object(E.a)({},a)).then(function(e){var a=e.data.list.slice(0,10),n=[];a.forEach(function(e){n.push({value:e.id.toString(),name:e.name})}),t.setState({data:Object(L.g)(t.state.data,"user","options",n)})}).catch(function(e){})}},{key:"getStoreCategoryListData",value:function(){var e=this;ve().then(function(t){var a=t.data.list,n=[];a.forEach(function(e){n.push({value:e.id,name:e.name})}),e.setState({data:Object(L.g)(e.state.data,"category","options",n)})}).catch(function(e){})}},{key:"getAMapKeywordsSearchData",value:function(e){var t=this;be({keywords:e||""}).then(function(e){var a=e.pois,n=[];a.forEach(function(e){var t=e.location.split(",").reverse();n.push({value:e.id.toString(),name:e.name,location:t})}),t.setState({data:Object(L.g)(t.state.data,"address","options",n)})})}},{key:"componentWillMount",value:function(){this.getStoreCategoryListData(),"edit"===Object(L.j)(this.props.history.location.search).query.type&&this.getStoreDetailData()}},{key:"render",value:function(){return i.a.createElement("div",{className:"store-manage-list-new"},i.a.createElement(Vt,{data:this.state.data,onChange:this.onChange,onSearch:this.onSearch,onSubmit:this.onSubmit}))}}]),a}(n.Component))||ha),$a=[{id:"baseInfo",title:"\u57fa\u672c\u4fe1\u606f",data:[{id:"id",name:"\u5e97\u94faID",value:"",type:"input",jpath:"id"},{id:"storeName",name:"\u5e97\u94fa\u540d\u79f0",value:"",type:"input",jpath:"storeName"},{id:"storeAge",name:"\u5e97\u94fa\u5e74\u9650(\u5929)",value:"",type:"input",jpath:"storeAge"},{id:"user",name:"\u6240\u5c5e\u5546\u5bb6",value:"",type:"input",jpath:"user.name"},{id:"organizationCode",name:"\u7ec4\u7ec7\u673a\u6784\u4ee3\u7801",value:"",type:"input",jpath:"organizationCode"},{id:"address",name:"\u5e97\u94fa\u5730\u5740",value:"",type:"input",jpath:"address"},{id:"category",name:"\u5e97\u94fa\u5206\u7c7b",value:"",type:"input",jpath:"category.name"},{id:"focusNum",name:"\u5173\u6ce8\u91cf",value:"",type:"input",jpath:"focusNum"},{id:"creditGrade",name:"\u8363\u8a89\u7b49\u7ea7",value:"",type:"input",jpath:"creditGrade.name"},{id:"createTime",name:"\u521b\u5efa\u65f6\u95f4",value:"",type:"input",jpath:"createTime"},{id:"businessLicenseImg",name:"\u8425\u4e1a\u6267\u7167",value:[],type:"img",jpath:"businessLicenseImg"}]}],Za={path:"/storeManage",component:Ta,exact:!0,children:[{path:"/storeManage/echarts",component:Ja,exact:!0},{path:"/storeManage/list",component:Ya,exact:!0},{path:"/storeManage/list/new",component:Xa,exact:!0},{path:"/storeManage/list/detail",component:te(pa=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={data:$a,avatar:{img:"",title:"",description:"",rate:0}},n.getStoreDetailData=n.getStoreDetailData.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"getStoreDetailData",value:function(){var e=this,t=Object(L.j)(this.props.history.location.search).query.id;Ua({id:t}).then(function(t){var a=t.data.userInfo,n=Object(L.h)($a,a);e.setState({data:n,avatar:{img:a.avatarImg&&a.avatarImg.url,title:a.storeName,description:a.description,rate:a.rate}})}).catch(function(e){})}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(ka,{avatar:this.state.avatar.img,title:this.state.avatar.title,description:this.state.avatar.description,type:"rate",rate:this.state.avatar.rate}),i.a.createElement(na,{data:this.state.data}))}},{key:"componentDidMount",value:function(){this.getStoreDetailData()}}]),a}(n.Component))||pa,exact:!0}]},Qa=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,this.props.children)}}]),a}(n.Component),en={tHead:[{key:"id",title:"id",dataIndex:"id"},{key:"uid",title:"uid",dataIndex:"uid"},{key:"name",dataIndex:"name",title:"\u89d2\u8272"},{key:"createTime",dataIndex:"createTime",title:"\u521b\u5efa\u65f6\u95f4"},{key:"operate",dataIndex:"operate",title:"\u64cd\u4f5c",width:100,slot:"operate"}],tBody:[],tPage:{total:0,page:1,pageSize:10}},tn=[{id:"baseInfo",title:"",data:[{id:"uid",name:"uid",placeholder:"\u8bf7\u8f93\u5165uid",type:"input",checkType:"required",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:"",options:[],expand:{},jpath:"uid"},{id:"name",name:"\u89d2\u8272\u540d",placeholder:"\u8bf7\u8f93\u5165\u89d2\u8272\u540d",type:"input",checkType:"required",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:"",options:[],expand:{},jpath:"name"}]}],an=(a(1119),function(e){return me("/fe/authManage/roleList/insert/",e)}),nn=function(e){return me("/fe/authManage/roleList/edit/",e)},rn=te(ma=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={columns:en.tHead,dataSource:en.tBody,loading:!0,modal:{title:"\u6dfb\u52a0\u89d2\u8272",visible:!1,type:"new"},currentRowData:null,formData:tn,modalPageNewRef:null},n.getUserAdminRoleListData=n.getUserAdminRoleListData.bind(Object(w.a)(n)),n.addHandler=n.addHandler.bind(Object(w.a)(n)),n.editHandler=n.editHandler.bind(Object(w.a)(n)),n.delHandler=n.delHandler.bind(Object(w.a)(n)),n.modalPageNewRef=n.modalPageNewRef.bind(Object(w.a)(n)),n.modalOk=n.modalOk.bind(Object(w.a)(n)),n.modalCancel=n.modalCancel.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.getUserAdminRoleListData()}},{key:"getUserAdminRoleListData",value:function(){var e=this;this.setState({loading:!0}),ge().then(function(t){var a=t.data.list;e.setState({dataSource:a,loading:!1}),e.props.setReload(!1)}).catch(function(t){e.props.setReload(!1)})}},{key:"modalOk",value:function(){var e=this,t=this.state.modalPageNewRef.submitHandler();if(t){var a="edit"===this.state.modal.type,n=a?nn:an;a&&(t.data.id=this.state.currentRowData.id),n(t.data).then(function(t){e.setState({modal:Object(E.a)({},e.state.modal,{visible:!1})}),e.getUserAdminRoleListData()}).catch(function(t){e.setState({modal:Object(E.a)({},e.state.modal,{visible:!1})})})}}},{key:"modalCancel",value:function(){this.setState({modal:Object(E.a)({},this.state.modal,{visible:!1})})}},{key:"addHandler",value:function(){this.setState({modal:Object(E.a)({},this.state.modal,{visible:!0,type:"new"})})}},{key:"editHandler",value:function(e){var t=Object(L.h)(this.state.formData,e);this.setState({modal:Object(E.a)({},this.state.modal,{title:"\u7f16\u8f91\u89d2\u8272",visible:!0,type:"edit"}),formData:t,currentRowData:e})}},{key:"delHandler",value:function(e){var t={id:e.id},a=this;Ct.a.confirm({title:"\u4f60\u786e\u5b9a\u5220\u9664\u4e48?",content:"",onOk:function(){var e;(e=t,me("/fe/authManage/roleList/delete/",e)).then(function(e){a.getUserAdminRoleListData()})},onCancel:function(){}})}},{key:"modalPageNewRef",value:function(e){this.setState({modalPageNewRef:e})}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.getUserAdminRoleListData()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"auth-manage-list"},i.a.createElement("div",{className:"flex filter-wrap"},i.a.createElement("div",{className:"flex filter-left"},i.a.createElement(N,{type:"primary",authId:"authManageRoleListNewAdd",onClick:this.addHandler},"\u65b0\u589e"))),i.a.createElement(rt,{ref:"authManageRoleList",loading:this.state.loading,columns:this.state.columns,dataSource:this.state.dataSource,scroll:!1,checked:!1},i.a.createElement("div",{slot:"operate",render:function(t,a,n){return i.a.createElement("div",{className:"operate"},i.a.createElement(N,{type:"text",authId:"authManageRoleListEdit",onClick:function(){return e.editHandler(a)}},"\u7f16\u8f91"),i.a.createElement(N,{type:"text",authId:"authManageRoleListDelete",onClick:function(){return e.delHandler(a)}},"\u5220\u9664"))}})),i.a.createElement(Ct.a,{title:this.state.modal.title,visible:this.state.modal.visible,onOk:this.modalOk,onCancel:this.modalCancel},i.a.createElement(Vt,{data:this.state.formData,footerShow:!1,onRef:this.modalPageNewRef})))}}]),a}(n.Component))||ma,sn={path:"/authManage",component:Qa,exact:!0,children:[{path:"/authManage/role",component:Object(j.b)(function(e){return{reload:e.Common.reload}},function(e){return{setReload:Object(O.b)(g,e)}})(rn),exact:!0}]},on=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,this.props.children)}}]),a}(n.Component),cn={tHead:[{key:"id",title:"id",dataIndex:"id"},{key:"name",dataIndex:"name",title:"\u5546\u54c1\u540d\u79f0"},{key:"storeInfo",dataIndex:"storeInfo.storeName",title:"\u6240\u5c5e\u5e97\u94fa"},{key:"category",dataIndex:"category",title:"\u6240\u5c5e\u5206\u7c7b"},{key:"price",dataIndex:"price",title:"\u4ef7\u683c(\u5143)"},{key:"stockNum",dataIndex:"stockNum",title:"\u5e93\u5b58(\u4ef6)"},{key:"tradingTotalNum",dataIndex:"tradingTotalNum",title:"\u603b\u4ea4\u6613\u6570\u91cf(\u4ef6)"},{key:"tradingMonthNum",dataIndex:"tradingMonthNum",title:"\u6708\u4ea4\u6613\u6570\u91cf(\u4ef6)"},{key:"tradingDayNum",dataIndex:"tradingDayNum",title:"\u65e5\u4ea4\u6613\u6570\u91cf(\u4ef6)"},{key:"commitGoodRate",dataIndex:"commitGoodRate",title:"\u597d\u8bc4\u7387(%)"},{key:"createTime",dataIndex:"createTime",title:"\u521b\u5efa\u65f6\u95f4",filterMultiple:!0,filterDate:"range"},{key:"status",dataIndex:"status",title:"\u4e0a\u4e0b\u67b6",fixed:"right",slot:"status"},{key:"operate",dataIndex:"operate",title:"\u64cd\u4f5c",fixed:"right",width:100,slot:"operate"}],tBody:[],tPage:{total:0,page:1,pageSize:10}},ln=(a(1120),function(e){return me("/fe/goodsManage/goodsList/insert/",e)}),dn=function(e){return me("/fe/goodsManage/goodsList/edit/",e)},un=function(e){return pe("/fe/goodsManage/goodsList/detail/",e)},hn=te(fa=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={columns:cn.tHead,dataSource:cn.tBody,page:cn.tPage,loading:!0,searchData:{value:"",filterTime:"",category:"",placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u540d\u79f0/\u5e97\u94fa\u540d\u79f0"},selectionDataIds:[]},n.getGoodsListData=n.getGoodsListData.bind(Object(w.a)(n)),n.onTableChange=n.onTableChange.bind(Object(w.a)(n)),n.searchHandler=n.searchHandler.bind(Object(w.a)(n)),n.addHandler=n.addHandler.bind(Object(w.a)(n)),n.removeHandler=n.removeHandler.bind(Object(w.a)(n)),n.resetHandler=n.resetHandler.bind(Object(w.a)(n)),n.detailHandler=n.detailHandler.bind(Object(w.a)(n)),n.editHandler=n.editHandler.bind(Object(w.a)(n)),n.delHandler=n.delHandler.bind(Object(w.a)(n)),n.editStatusChange=n.editStatusChange.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.getGoodsListData()}},{key:"getGoodsListData",value:function(){var e,t=this,a={page:this.state.page.page,pageSize:this.state.page.pageSize,search:this.state.searchData.value,category:this.state.searchData.category,startTime:this.state.searchData.filterTime[0]||"",endTime:this.state.searchData.filterTime[1]||""};this.setState({loading:!0}),(e=a,pe("/fe/goodsManage/goodsList/get/",e)).then(function(e){var a=e.data.list,n=e.data.pagination.total;t.setState({dataSource:a,page:Object(E.a)({},t.state.page,{total:n}),loading:!1}),t.props.setReload(!1)}).catch(function(e){console.log(e,"rttt")})}},{key:"getStoreCategoryListData",value:function(){var e=this;ve().then(function(t){var a=t.data.list,n=[];a.forEach(function(e){n.push({value:e.id,text:e.name})});var i=Ne.a.cloneDeep(e.state.columns);i.forEach(function(e){"category"===e.key&&(e.filters=n)}),e.setState({columns:i})}).catch(function(e){})}},{key:"onTableChange",value:function(e){var t=this;if("page"===e.type||"pageSize"===e.type)this.setState({page:Object(E.a)({},this.state.page,{},e.data)},function(){return t.getGoodsListData()});else if("selection"===e.type)this.setState({selectionDataIds:e.data.ids});else if("filter"===e.type)if("date"===e.data.type){var a=e.data.data.dateString?e.data.data.dateString:"";this.setState({searchData:Object(E.a)({},this.state.searchData,{filterTime:a})},function(){return t.getGoodsListData()})}else{var n=Ne.a.isArray(e.data.value)?e.data.value.join(","):e.data.value;this.setState({searchData:Object(E.a)({},this.state.searchData,{category:n})},function(){return t.getGoodsListData()})}}},{key:"searchHandler",value:function(e){var t=this;this.setState({searchData:Object(E.a)({},this.state.searchData,{value:e})},function(){return t.getGoodsListData()})}},{key:"addHandler",value:function(){this.props.history.push({pathname:"/goodsManage/list/new",search:"?type=new"})}},{key:"removeHandler",value:function(){var e={ids:this.state.selectionDataIds},t=this;Ct.a.confirm({title:"\u4f60\u786e\u5b9a\u5220\u9664\u4e48?",content:"",onOk:function(){var a;(a=e,me("/fe/goodsManage/goodsList/delete/",a)).then(function(e){t.getGoodsListData()})},onCancel:function(){}})}},{key:"resetHandler",value:function(){var e=this;this.setState({searchData:Object(E.a)({},this.state.searchData,{value:"",filterTime:"",category:""}),page:cn.tPage},function(){return e.getGoodsListData()}),this.refs.userManageList.clearFilterData()}},{key:"detailHandler",value:function(e){this.props.history.push({pathname:"/goodsManage/list/detail",search:"?id=".concat(e.id)})}},{key:"editHandler",value:function(e){this.props.history.push({pathname:"/goodsManage/list/new",search:"?type=edit&id=".concat(e.id)})}},{key:"delHandler",value:function(e){var t=this;this.setState({selectionDataIds:[e.id]},function(){return t.removeHandler()})}},{key:"editStatusChange",value:function(e,t){var a=this,n=Object.assign({},t,{status:e});dn(n).then(function(e){a.getGoodsListData()})}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.getGoodsListData()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"user-manage-list"},i.a.createElement("div",{className:"flex filter-wrap"},i.a.createElement("div",{className:"flex filter-left"},i.a.createElement(N,{type:"primary",authId:"goodsManageListNewAdd",onClick:this.addHandler},"\u65b0\u589e"),i.a.createElement(N,{type:"danger",authId:"goodsManageListBatchDelete",onClick:this.removeHandler},"\u6279\u91cf\u5220\u9664")),i.a.createElement("div",{className:"flex filter-right"},i.a.createElement(ee,{value:this.state.searchData.value,className:"search-input",type:"search",placeholder:this.state.searchData.placeholder,onEnter:this.searchHandler}),i.a.createElement(N,{type:"primary",onClick:this.resetHandler},"\u91cd\u7f6e"))),i.a.createElement(rt,{ref:"userManageList",loading:this.state.loading,columns:this.state.columns,dataSource:this.state.dataSource,page:this.state.page,onTableChange:this.onTableChange},i.a.createElement("div",{slot:"status",render:function(t,a,n){return i.a.createElement("div",{className:"status"},i.a.createElement(lt,{value:a.status,onChange:function(t){return e.editStatusChange(t,a)}}))}}),i.a.createElement("div",{slot:"operate",render:function(t,a,n){return i.a.createElement("div",{className:"operate"},i.a.createElement(N,{type:"text",onClick:function(){return e.detailHandler(a)}},"\u67e5\u770b"),i.a.createElement(N,{type:"text",authId:"goodsManageListEdit",onClick:function(){return e.editHandler(a)}},"\u7f16\u8f91"),i.a.createElement(N,{type:"text",authId:"goodsManageListDelete",onClick:function(){return e.delHandler(a)}},"\u5220\u9664"))}})))}}]),a}(n.Component))||fa,pn=Object(j.b)(function(e){return{reload:e.Common.reload}},function(e){return{setReload:Object(O.b)(g,e)}})(hn),mn=[{id:"baseInfo",title:"\u57fa\u672c\u4fe1\u606f",data:[{id:"name",name:"\u5546\u54c1\u540d\u79f0",placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u540d\u79f0",type:"input",checkType:"required|maxLength:30",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:"",options:[],expand:{},jpath:"name"},{id:"storeInfo",name:"\u6240\u5c5e\u5546\u94fa",placeholder:"\u8bf7\u9009\u62e9\u6240\u5c5e\u5546\u94fa",type:"select",checkType:"required",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:"",options:[],expand:{showSearch:!0,filterOption:!1,defaultActiveFirstOption:!1},jpath:"storeInfo.id"},{id:"price",name:"\u5546\u54c1\u4ef7\u683c",placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u4ef7\u683c",type:"number",checkType:"required",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:"",options:[],expand:{},jpath:"price"},{id:"description",name:"\u5546\u54c1\u63cf\u8ff0",placeholder:"\u8bf7\u8f93\u5165\u5546\u54c1\u63cf\u8ff0",type:"textarea",checkType:"required",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:"",options:[],expand:{autosize:{minRows:3,maxRows:6}},jpath:"description"},{id:"stockNum",name:"\u5e93\u5b58\u91cf",placeholder:"\u8bf7\u8f93\u5165\u5e93\u5b58\u91cf",type:"number",checkType:"required",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:"",options:[],expand:{},jpath:"stockNum"},{id:"imgs",name:"\u5546\u54c1\u56fe\u7247",placeholder:"",type:"img",checkType:"required",newDisabled:!1,editDisabled:!1,newShow:!0,editShow:!0,value:[],options:[],expand:{limit:5},jpath:"imgs"}]}],fn=(a(1121),te(ga=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={data:mn},n.onChange=n.onChange.bind(Object(w.a)(n)),n.onSearch=Ne.a.throttle(n.getStoreListData,1e3).bind(Object(w.a)(n)),n.onSubmit=n.onSubmit.bind(Object(w.a)(n)),n.getStoreListData=n.getStoreListData.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"onChange",value:function(e){this.setState({data:Object(L.g)(this.state.data,e.data.id,"value",e.value)})}},{key:"onSearch",value:function(e){}},{key:"onSubmit",value:function(e){var t=this;if(e.data.imgs){var a=[];e.data.imgs.forEach(function(e){a.push({id:e.uid||e.id,url:e.url})}),e.data.imgs=a.length?a:""}var n=null;"edit"===Object(L.j)(this.props.history.location.search).query.type?(e.data.id=Object(L.j)(this.props.history.location.search).query.id,n=dn):n=ln,n(e.data).then(function(e){t.props.history.goBack()}).catch(function(e){})}},{key:"getGoodsDetailData",value:function(){var e=this,t=Object(L.j)(this.props.history.location.search).query.id;un({id:t}).then(function(t){e.getStoreListData(t.data.goodsInfo.storeInfo.storeName),e.setState({data:Object(L.h)(e.state.data,t.data.goodsInfo)})}).catch(function(e){})}},{key:"getStoreListData",value:function(e){var t=this,a={};a="string"===typeof e?{search:e}:{search:e.value},Ra(Object(E.a)({},a)).then(function(e){var a=e.data.list.slice(0,10),n=[];a.forEach(function(e){n.push({value:e.id.toString(),name:e.storeName})}),t.setState({data:Object(L.g)(t.state.data,"storeInfo","options",n)})}).catch(function(e){})}},{key:"componentWillMount",value:function(){"edit"===Object(L.j)(this.props.history.location.search).query.type&&this.getGoodsDetailData()}},{key:"render",value:function(){return i.a.createElement("div",{className:"store-manage-list-new"},i.a.createElement(Vt,{data:this.state.data,onChange:this.onChange,onSearch:this.onSearch,onSubmit:this.onSubmit}))}}]),a}(n.Component))||ga),gn=[{id:"baseInfo",title:"\u57fa\u672c\u4fe1\u606f",data:[{id:"id",name:"\u5546\u54c1ID",value:"",type:"input",jpath:"id"},{id:"name",name:"\u5546\u54c1\u540d\u79f0",value:"",type:"input",jpath:"name"},{id:"storeInfo",name:"\u6240\u5c5e\u5e97\u94fa",value:"",type:"input",jpath:"storeInfo.storeName"},{id:"description",name:"\u5546\u54c1\u63cf\u8ff0",value:"",type:"input",jpath:"description"},{id:"category",name:"\u6240\u5c5e\u5206\u7c7b",value:"",type:"input",jpath:"category"},{id:"price",name:"\u4ef7\u683c",value:"",type:"input",jpath:"price"},{id:"stockNum",name:"\u5e93\u5b58",value:"",type:"input",jpath:"stockNum"},{id:"tradingTotalNum",name:"\u603b\u4ea4\u6613\u6570\u91cf",value:"",type:"input",jpath:"tradingTotalNum"},{id:"tradingMonthNum",name:"\u6708\u4ea4\u6613\u6570\u91cf",value:"",type:"input",jpath:"tradingMonthNum"},{id:"tradingDayNum",name:"\u65e5\u4ea4\u6613\u6570\u91cf",value:"",type:"input",jpath:"tradingDayNum"},{id:"commitGoodRate",name:"\u597d\u8bc4\u7387",value:"",type:"input",jpath:"commitGoodRate"},{id:"createTime",name:"\u521b\u5efa\u65f6\u95f4",value:"",type:"input",jpath:"createTime"},{id:"imgs",name:"\u5546\u54c1\u56fe\u7247",value:[],type:"img",jpath:"imgs"}]}],vn={path:"/goodsManage",component:on,exact:!0,children:[{path:"/goodsManage/list",component:pn,exact:!0},{path:"/goodsManage/list/new",component:fn,exact:!0},{path:"/goodsManage/list/detail",component:te(va=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={data:gn,avatar:{img:"",title:"",description:""}},n.getStoreDetailData=n.getStoreDetailData.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"getStoreDetailData",value:function(){var e=this,t=Object(L.j)(this.props.history.location.search).query.id;un({id:t}).then(function(t){var a=t.data.goodsInfo,n=Object(L.h)(gn,a);e.setState({data:n,avatar:{img:a.avatarImg&&a.avatarImg.url,title:a.name,description:a.description}})}).catch(function(e){})}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(ka,{avatar:this.state.avatar.img,title:this.state.avatar.title,description:this.state.avatar.description}),i.a.createElement(na,{data:this.state.data}))}},{key:"componentDidMount",value:function(){this.getStoreDetailData()}}]),a}(n.Component))||va,exact:!0}]},bn=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,this.props.children)}}]),a}(n.Component),yn={tHead:[{key:"id",title:"id",dataIndex:"id"},{key:"name",dataIndex:"name",title:"\u59d3\u540d"},{key:"deleteReason",dataIndex:"deleteReason",title:"\u5220\u9664\u539f\u56e0",width:100},{key:"email",dataIndex:"email",title:"\u90ae\u7bb1"},{key:"address",dataIndex:"address",title:"\u4f4f\u5740"},{key:"phone",dataIndex:"phone",title:"\u8054\u7cfb\u7535\u8bdd"},{key:"IDCard",dataIndex:"IDCard",title:"\u8eab\u4efd\u8bc1\u53f7\u7801"},{key:"userRole",dataIndex:"userRole.name",title:"\u89d2\u8272",filterMultiple:!1,filters:[]},{key:"createTime",dataIndex:"createTime",title:"\u521b\u5efa\u65f6\u95f4",filterMultiple:!0,filterDate:"range"},{key:"deleteTime",dataIndex:"deleteTime",title:"\u5220\u9664\u65f6\u95f4"},{key:"operate",dataIndex:"operate",title:"\u64cd\u4f5c",fixed:"right",width:100,slot:"operate"}],tBody:[],tPage:{total:0,page:1,pageSize:10}},jn=(a(1122),te(ba=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={columns:yn.tHead,dataSource:yn.tBody,page:yn.tPage,loading:!0,searchData:{value:"",filterTime:"",role:"",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d/\u90ae\u7bb1/\u624b\u673a\u53f7\u7801"}},n.getDeleteUserListData=n.getDeleteUserListData.bind(Object(w.a)(n)),n.getUserBussinesRoleListData=n.getUserBussinesRoleListData.bind(Object(w.a)(n)),n.onTableChange=n.onTableChange.bind(Object(w.a)(n)),n.searchHandler=n.searchHandler.bind(Object(w.a)(n)),n.resetHandler=n.resetHandler.bind(Object(w.a)(n)),n.resetRecord=n.resetRecord.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.getDeleteUserListData(),this.getUserBussinesRoleListData()}},{key:"getDeleteUserListData",value:function(){var e,t=this,a={page:this.state.page.page,pageSize:this.state.page.pageSize,search:this.state.searchData.value,role:this.state.searchData.role,startTime:this.state.searchData.filterTime[0]||"",endTime:this.state.searchData.filterTime[1]||""};this.setState({loading:!0}),(e=a,pe("/fe/historyRecord/deleteUserList/get/",e)).then(function(e){var a=e.data.list,n=e.data.pagination.total;t.setState({dataSource:a,page:Object(E.a)({},t.state.page,{total:n}),loading:!1}),t.props.setReload(!1)})}},{key:"getUserBussinesRoleListData",value:function(){var e=this;fe().then(function(t){var a=t.data.list,n=[];a.forEach(function(e){n.push({value:e.id,text:e.name})});var i=Ne.a.cloneDeep(e.state.columns);i.forEach(function(e){"userRole"===e.key&&(e.filters=n)}),e.setState({columns:i})})}},{key:"onTableChange",value:function(e){var t=this;if("page"===e.type||"pageSize"===e.type)this.setState({page:Object(E.a)({},this.state.page,{},e.data)},function(){return t.getDeleteUserListData()});else if("filter"===e.type)if("date"===e.data.type){var a=e.data.data.dateString?e.data.data.dateString:"";this.setState({searchData:Object(E.a)({},this.state.searchData,{filterTime:a})},function(){return t.getDeleteUserListData()})}else{var n=Ne.a.isArray(e.data.value)?e.data.value.join(","):e.data.value;this.setState({searchData:Object(E.a)({},this.state.searchData,{role:n})},function(){return t.getDeleteUserListData()})}}},{key:"searchHandler",value:function(e){var t=this;this.setState({searchData:Object(E.a)({},this.state.searchData,{value:e})},function(){return t.getDeleteUserListData()})}},{key:"resetHandler",value:function(){var e=this;this.setState({searchData:Object(E.a)({},this.state.searchData,{value:"",filterTime:"",role:""}),page:yn.tPage},function(){return e.getDeleteUserListData()}),this.refs.historyRecordDeleteUserList.clearFilterData()}},{key:"resetRecord",value:function(e){var t=this;(function(e){return me("/fe/historyRecord/deleteUserList/reset/",e)})({id:e.id}).then(function(e){t.getDeleteUserListData()})}},{key:"deletePermanent",value:function(e){var t={id:e.id},a=this;Ct.a.confirm({title:"\u4f60\u786e\u5b9a\u8981\u6c38\u4e45\u5220\u9664\u7528\u6237".concat(e.name,"\u4e48?"),content:"",onOk:function(){var e;(e=t,me("/fe/historyRecord/deleteUserList/delete/",e)).then(function(e){a.getDeleteUserListData()})},onCancel:function(){}})}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.getDeleteUserListData(),this.getUserBussinesRoleListData()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"history-record-delete-user-list"},i.a.createElement("div",{className:"flex filter-wrap"},i.a.createElement("div",{className:"flex filter-left"}),i.a.createElement("div",{className:"flex filter-right"},i.a.createElement(ee,{value:this.state.searchData.value,className:"search-input",type:"search",placeholder:this.state.searchData.placeholder,onEnter:this.searchHandler}),i.a.createElement(N,{type:"primary",onClick:this.resetHandler},"\u91cd\u7f6e"))),i.a.createElement(rt,{ref:"historyRecordDeleteUserList",checked:!1,loading:this.state.loading,columns:this.state.columns,dataSource:this.state.dataSource,page:this.state.page,onTableChange:this.onTableChange},i.a.createElement("div",{slot:"operate",render:function(t,a,n){return i.a.createElement("div",{className:"operate"},i.a.createElement(N,{type:"text",onClick:function(){return e.resetRecord(a)}},"\u6062\u590d"),i.a.createElement(N,{type:"text",onClick:function(){return e.deletePermanent(a)}},"\u6c38\u4e45\u5220\u9664"))}})))}}]),a}(n.Component))||ba),On=Object(j.b)(function(e){return{reload:e.Common.reload}},function(e){return{setReload:Object(O.b)(g,e)}})(jn),kn={tHead:[{key:"id",title:"id",dataIndex:"id"},{key:"name",dataIndex:"name",title:"\u59d3\u540d"},{key:"deleteReason",dataIndex:"deleteReason",title:"\u5220\u9664\u539f\u56e0",width:100},{key:"email",dataIndex:"email",title:"\u90ae\u7bb1"},{key:"phone",dataIndex:"phone",title:"\u8054\u7cfb\u7535\u8bdd"},{key:"userRole",dataIndex:"userRole.name",title:"\u89d2\u8272",filterMultiple:!1,filters:[]},{key:"createTime",dataIndex:"createTime",title:"\u521b\u5efa\u65f6\u95f4",filterMultiple:!0,filterDate:"range"},{key:"deleteTime",dataIndex:"deleteTime",title:"\u5220\u9664\u65f6\u95f4"},{key:"operate",dataIndex:"operate",title:"\u64cd\u4f5c",fixed:"right",width:100,slot:"operate"}],tBody:[],tPage:{total:0,page:1,pageSize:10}},Dn=(a(1123),te(ya=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={columns:kn.tHead,dataSource:kn.tBody,page:kn.tPage,loading:!0,searchData:{value:"",filterTime:"",role:"",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d/\u90ae\u7bb1/\u624b\u673a\u53f7\u7801"}},n.getDeleteUserListData=n.getDeleteUserListData.bind(Object(w.a)(n)),n.getUserAdminRoleListData=n.getUserAdminRoleListData.bind(Object(w.a)(n)),n.onTableChange=n.onTableChange.bind(Object(w.a)(n)),n.searchHandler=n.searchHandler.bind(Object(w.a)(n)),n.resetHandler=n.resetHandler.bind(Object(w.a)(n)),n.resetRecord=n.resetRecord.bind(Object(w.a)(n)),n}return Object(c.a)(a,[{key:"componentWillReceiveProps",value:function(e){this.getDeleteUserListData(),this.getUserAdminRoleListData()}},{key:"getDeleteUserListData",value:function(){var e,t=this,a={page:this.state.page.page,pageSize:this.state.page.pageSize,search:this.state.searchData.value,role:this.state.searchData.role,startTime:this.state.searchData.filterTime[0]||"",endTime:this.state.searchData.filterTime[1]||""};this.setState({loading:!0}),(e=a,pe("/fe/historyRecord/deleteAdminUserList/get/",e)).then(function(e){var a=e.data.list,n=e.data.pagination.total;t.setState({dataSource:a,page:Object(E.a)({},t.state.page,{total:n}),loading:!1}),t.props.setReload(!1)})}},{key:"getUserAdminRoleListData",value:function(){var e=this;ge().then(function(t){var a=t.data.list,n=[];a.forEach(function(e){n.push({value:e.id,text:e.name})});var i=Ne.a.cloneDeep(e.state.columns);i.forEach(function(e){"userRole"===e.key&&(e.filters=n)}),e.setState({columns:i})})}},{key:"onTableChange",value:function(e){var t=this;if("page"===e.type||"pageSize"===e.type)this.setState({page:Object(E.a)({},this.state.page,{},e.data)},function(){return t.getDeleteUserListData()});else if("filter"===e.type)if("date"===e.data.type){var a=e.data.data.dateString?e.data.data.dateString:"";this.setState({searchData:Object(E.a)({},this.state.searchData,{filterTime:a})},function(){return t.getDeleteUserListData()})}else{var n=Ne.a.isArray(e.data.value)?e.data.value.join(","):e.data.value;this.setState({searchData:Object(E.a)({},this.state.searchData,{role:n})},function(){return t.getDeleteUserListData()})}}},{key:"searchHandler",value:function(e){var t=this;this.setState({searchData:Object(E.a)({},this.state.searchData,{value:e})},function(){return t.getDeleteUserListData()})}},{key:"resetHandler",value:function(){var e=this;this.setState({searchData:Object(E.a)({},this.state.searchData,{value:"",filterTime:"",role:""}),page:kn.tPage},function(){return e.getDeleteUserListData()}),this.refs.historyRecordDeleteAdminUserList.clearFilterData()}},{key:"resetRecord",value:function(e){var t=this;(function(e){return me("/fe/historyRecord/deleteAdminUserList/reset/",e)})({id:e.id}).then(function(e){t.getDeleteUserListData()})}},{key:"deletePermanent",value:function(e){var t={id:e.id},a=this;Ct.a.confirm({title:"\u4f60\u786e\u5b9a\u8981\u6c38\u4e45\u5220\u9664\u7528\u6237".concat(e.name,"\u4e48?"),content:"",onOk:function(){var e;(e=t,me("/fe/historyRecord/deleteAdminUserList/delete/",e)).then(function(e){a.getDeleteUserListData()})},onCancel:function(){}})}},{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.getDeleteUserListData(),this.getUserAdminRoleListData()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"history-record-delete-user-list"},i.a.createElement("div",{className:"flex filter-wrap"},i.a.createElement("div",{className:"flex filter-left"}),i.a.createElement("div",{className:"flex filter-right"},i.a.createElement(ee,{value:this.state.searchData.value,className:"search-input",type:"search",placeholder:this.state.searchData.placeholder,onEnter:this.searchHandler}),i.a.createElement(N,{type:"primary",onClick:this.resetHandler},"\u91cd\u7f6e"))),i.a.createElement(rt,{ref:"historyRecordDeleteAdminUserList",checked:!1,loading:this.state.loading,columns:this.state.columns,dataSource:this.state.dataSource,page:this.state.page,onTableChange:this.onTableChange},i.a.createElement("div",{slot:"operate",render:function(t,a,n){return i.a.createElement("div",{className:"operate"},i.a.createElement(N,{type:"text",onClick:function(){return e.resetRecord(a)}},"\u6062\u590d"),i.a.createElement(N,{type:"text",onClick:function(){return e.deletePermanent(a)}},"\u6c38\u4e45\u5220\u9664"))}})))}}]),a}(n.Component))||ya),Sn={path:"/historyRecord",component:bn,exact:!0,children:[{path:"/historyRecord/deleteUser",component:On,exact:!0},{path:"/historyRecord/deleteAdminUser",component:Object(j.b)(function(e){return{reload:e.Common.reload}},function(e){return{setReload:Object(O.b)(g,e)}})(Dn),exact:!0}]},En=(a(1124),te(ja=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.props.setBreadcrumb([{name:"\u4e2a\u4eba\u4e2d\u5fc3"}])}},{key:"render",value:function(){return i.a.createElement("div",{className:"personal"},"\u4e2a\u4eba\u4e2d\u5fc3")}}]),a}(n.Component))||ja),wn=[Pe,La,Za,sn,vn,Sn,{path:"/personal",component:Object(j.b)(function(e){return{}},function(e){return{setBreadcrumb:Object(O.b)(f,e)}})(En),exact:!0}],Cn=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement(h.a,null,i.a.createElement(u.c,null,i.a.createElement(u.a,{exact:!0,path:"/login",component:je}),i.a.createElement(Y,null,i.a.createElement(Ee,null,function e(t){return t.map(function(t,a){if(t.children){var n=t.component;return i.a.createElement(n,{key:a},e(t.children))}return i.a.createElement(u.a,{path:t.path,component:t.component,exact:t.exact,key:a})})}(wn)))))}}]),a}(n.Component),xn={currentTheme:"default",collapsed:R.a.collapsedDefaultOpen||!0,breadcrumbData:[],reload:!1,userInfo:null,windowInfo:{screenHeight:window.innerHeight||document.body.clientHeight||document.documentElement.clientHeight,screenWidth:window.innerWidth||document.body.clientWidth||document.documentElement.clientWidth,mainContentHeight:"",mainContentWidth:""}},Mn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COLLAPSEDTOGGLE":return Object(E.a)({},e,{},{collapsed:t.value});case"SETBREADCRUMB":return Object(E.a)({},e,{},{breadcrumbData:t.value});case"RELOAD":return Object(E.a)({},e,{},{reload:t.value});case"WINDOWINFO":return Object(E.a)({},e,{},{windowInfo:t.value});case"USERINFO":return Object(E.a)({},e,{},{userInfo:t.value});case"CURRENTTHEME":return Object(E.a)({},e,{},{currentTheme:t.value});default:return e}},Nn=a(494),In=Object(O.e)(Object(O.c)({Common:Mn}),Object(O.a)(Nn.a)),Ln=a(495);a(18);Oa=Cn,s.a.render(i.a.createElement(j.a,{store:In},i.a.createElement(Ln.AppContainer,null,i.a.createElement(Oa,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},1130:function(e,t,a){"use strict";a.r(t);var n=a(27),i=a.n(n),r=a(18),s=a(43),o=a(6),c=a(7),l=a(45),d=a(21),u=a(34),h=l.d.reverse(),p=a(101),m=l.c.reverse();i.a.mock(Object(r.a)("/userManage/userList/get"),"get",function(e){var t=Object(d.c)(h,{isDelete:!1},"and"),a=Number(Object(c.j)(e.url,"page"))||1,n=Number(Object(c.j)(e.url,"pageSize"))||10,i=Object(c.j)(e.url,"search"),s=Object(c.j)(e.url,"role"),l=Object(c.j)(e.url,"startTime"),u=Object(c.j)(e.url,"endTime"),p=null;i&&(p={name:i="undefined"===(i=decodeURI(i))?"":i,phone:i,email:i},p=Object(d.b)(p),t=Object(d.c)(t,p,"or")),s&&(p={"userRole.id":s},t=Object(d.c)(t,p,"and")),l&&u&&(t=Object(d.d)(t,"createTime",[l,u]));var m=(a-1)*n,f=a*n,g={list:t.slice(m,f),pagination:{total:t.length,page:a,pageSize:n}};return Object(o.a)({},r.b.baseMock,{data:g})}),i.a.mock(Object(r.a)("/userManage/userList/delete"),"post",function(e){var t=JSON.parse(e.body).ids,a=[];t.forEach(function(e){a.push(e.toString())});var n=Object(d.c)(h,{id:a},"and","eq");n.forEach(function(e){e.isDelete=!0});var i="";return n.length!==t.length&&(i="\u5220\u9664\u5931\u8d25",r.b.baseMock.code=10001),Object(o.a)({},r.b.baseMock,{errmsg:i})}),i.a.mock(Object(r.a)("/userManage/userList/insert"),"post",function(e){var t=JSON.parse(e.body),a=h[0],n=a.id+1;t.id=n,t.createTime=Object(c.a)(),t.sex=Object(d.c)(u.a.sex,{id:t.sex.id},"or","eq")[0],t.userRole=Object(d.c)(u.a.userRole,{id:t.userRole.id},"or","eq")[0];var i=Object.assign({},a,t);return h.unshift(i),Object(o.a)({},r.b.baseMock,{},{data:{id:n}})}),i.a.mock(Object(r.a)("/userManage/userList/edit"),"post",function(e){var t=JSON.parse(e.body),a=t.id,n=Object(s.a)(t,["id"]),i=Object(d.c)(h,{id:a},"or","eq")[0];n.sex=Object(d.c)(u.a.sex,{id:n.sex.id},"or","eq")[0],n.userRole=Object(d.c)(u.a.userRole,{id:n.userRole.id},"or","eq")[0];var c=Object.assign({},i,n),l=h.findIndex(function(e){return e.id.toString()===a});return h.splice(l,1,c),Object(o.a)({},r.b.baseMock)}),i.a.mock(Object(r.a)("/userManage/userList/detail"),"get",function(e){var t=Number(Object(c.j)(e.url,"id")),a=Object(d.c)(h,{id:t},"and","eq"),n=Object(d.c)(l.b,{"user.id":t},"and","eq"),i={userInfo:a[0],storeList:n};return Object(o.a)({},r.b.baseMock,{data:i})}),i.a.mock(Object(r.a)("/userManage/userList/active"),"post",function(e){var t=JSON.parse(e.body),a=t.id,n=t.isActive,i=Object(d.c)(h,{id:a},"and","eq");return i&&i.length&&(i[0].isActive=n),Object(o.a)({},r.b.baseMock)}),i.a.mock(Object(r.a)("/historyRecord/deleteUserList/get"),"get",function(e){var t=Object(d.c)(h,{isDelete:!0},"and"),a=Number(Object(c.j)(e.url,"page"))||1,n=Number(Object(c.j)(e.url,"pageSize"))||10,i=Object(c.j)(e.url,"search"),s=Object(c.j)(e.url,"role"),l=Object(c.j)(e.url,"startTime"),u=Object(c.j)(e.url,"endTime"),p=null;i&&(p={name:i="undefined"===(i=decodeURI(i))?"":i,phone:i,email:i},p=Object(d.b)(p),t=Object(d.c)(t,p,"or")),s&&(p={"userRole.id":s},t=Object(d.c)(t,p,"and")),l&&u&&(t=Object(d.d)(t,"createTime",[l,u]));var m=(a-1)*n,f=a*n,g={list:t.slice(m,f),pagination:{total:t.length,page:a,pageSize:n}};return Object(o.a)({},r.b.baseMock,{data:g})}),i.a.mock(Object(r.a)("/historyRecord/deleteUserList/reset"),"post",function(e){var t=JSON.parse(e.body).id,a=Object(d.c)(h,{id:t},"and","eq");return a&&a.length&&(a[0].isDelete=!1),Object(o.a)({},r.b.baseMock)}),i.a.mock(Object(r.a)("/historyRecord/deleteUserList/delete"),"post",function(e){var t=JSON.parse(e.body).id,a="";return Object(d.a)(h,"id",t).length||(a="\u5220\u9664\u5931\u8d25",r.b.baseMock.code=10001),Object(o.a)({},r.b.baseMock,{errmsg:a})}),i.a.mock(Object(r.a)("/userManage/adminList/get"),"get",function(e){var t=Object(d.c)(m,{isDelete:!1},"and"),a=Number(Object(c.j)(e.url,"page"))||1,n=Number(Object(c.j)(e.url,"pageSize"))||10,i=Object(c.j)(e.url,"search"),s=Object(c.j)(e.url,"role"),l=Object(c.j)(e.url,"startTime"),u=Object(c.j)(e.url,"endTime"),h=null;i&&(h={name:i="undefined"===(i=decodeURI(i))?"":i,phone:i,email:i},h=Object(d.b)(h),t=Object(d.c)(t,h,"or")),s&&(h={"userRole.id":s},t=Object(d.c)(t,h,"and")),l&&u&&(t=Object(d.d)(t,"createTime",[l,u]));var p=(a-1)*n,f=a*n,g={list:t.slice(p,f),pagination:{total:t.length,page:a,pageSize:n}};return Object(o.a)({},r.b.baseMock,{data:g})}),i.a.mock(Object(r.a)("/userManage/adminList/delete"),"post",function(e){var t=JSON.parse(e.body).ids,a="";return Object(d.a)(m,"id",t).length!==t.length&&(a="\u5220\u9664\u5931\u8d25",r.b.baseMock.code=10001),Object(o.a)({},r.b.baseMock,{errmsg:a})}),i.a.mock(Object(r.a)("/userManage/adminList/insert"),"post",function(e){var t=JSON.parse(e.body),a=m[0],n=a.id+1;t.id=n,t.createTime=Object(c.a)(),t.sex=Object(d.c)(u.a.sex,{id:t.sex.id},"or","eq")[0],t.userRole=Object(d.c)(p.a.adminRoleList,{id:t.userRole.id},"or","eq")[0];var i=Object.assign({},a,t);return m.unshift(i),Object(o.a)({},r.b.baseMock,{},{data:{id:n}})}),i.a.mock(Object(r.a)("/userManage/adminList/edit"),"post",function(e){var t=JSON.parse(e.body),a=t.id,n=Object(s.a)(t,["id"]),i=Object(d.c)(m,{id:a},"or","eq")[0];n.sex=Object(d.c)(u.a.sex,{id:n.sex.id},"or","eq")[0],n.userRole=Object(d.c)(p.a.adminRoleList,{id:n.userRole.id},"or","eq")[0];var c=Object.assign({},i,n),l=m.findIndex(function(e){return e.id.toString()===a});return m.splice(l,1,c),Object(o.a)({},r.b.baseMock)}),i.a.mock(Object(r.a)("/userManage/adminList/detail"),"get",function(e){var t=Number(Object(c.j)(e.url,"id")),a={userInfo:Object(d.c)(m,{id:t},"and","eq")[0]};return Object(o.a)({},r.b.baseMock,{data:a})}),i.a.mock(Object(r.a)("/historyRecord/deleteAdminUserList/get"),"get",function(e){var t=Object(d.c)(m,{isDelete:!0},"and"),a=Number(Object(c.j)(e.url,"page"))||1,n=Number(Object(c.j)(e.url,"pageSize"))||10,i=Object(c.j)(e.url,"search"),s=Object(c.j)(e.url,"role"),l=Object(c.j)(e.url,"startTime"),u=Object(c.j)(e.url,"endTime"),h=null;i&&(h={name:i="undefined"===(i=decodeURI(i))?"":i,phone:i,email:i},h=Object(d.b)(h),t=Object(d.c)(t,h,"or")),s&&(h={"userRole.id":s},t=Object(d.c)(t,h,"and")),l&&u&&(t=Object(d.d)(t,"createTime",[l,u]));var p=(a-1)*n,f=a*n,g={list:t.slice(p,f),pagination:{total:t.length,page:a,pageSize:n}};return Object(o.a)({},r.b.baseMock,{data:g})}),i.a.mock(Object(r.a)("/historyRecord/deleteAdminUserList/reset"),"post",function(e){var t=JSON.parse(e.body).id,a=Object(d.c)(m,{id:t},"and","eq");return a&&a.length&&(a[0].isDelete=!1),Object(o.a)({},r.b.baseMock)}),i.a.mock(Object(r.a)("/historyRecord/deleteAdminUserList/delete"),"post",function(e){var t=JSON.parse(e.body).id,a="";return Object(d.a)(m,"id",t).length||(a="\u5220\u9664\u5931\u8d25",r.b.baseMock.code=10001),Object(o.a)({},r.b.baseMock,{errmsg:a})})},1131:function(e,t,a){"use strict";a.r(t);var n=a(27),i=a.n(n),r=a(18),s=a(43),o=a(6),c=a(7),l=a(20),d=a.n(l),u=a(45),h=a(34),p=a(21),m=d.a.cloneDeep(u.b).reverse();i.a.mock(Object(r.a)("/storeManage/storeList/get"),"get",function(e){var t=m,a=Number(Object(c.j)(e.url,"page"))||1,n=Number(Object(c.j)(e.url,"pageSize"))||10,i=Object(c.j)(e.url,"search"),s=Object(c.j)(e.url,"category"),l=Object(c.j)(e.url,"startTime"),d=Object(c.j)(e.url,"endTime"),u=null;i&&(u={storeName:i="undefined"===(i=decodeURI(i))?"":i,"user.name":i},u=Object(p.b)(u),t=Object(p.c)(t,u,"or")),s&&(u={"category.id":s},t=Object(p.c)(t,u,"and","eq")),l&&d&&(t=Object(p.d)(t,"createTime",[l,d]));var h=(a-1)*n,f=a*n,g={list:t.slice(h,f),pagination:{total:t.length,page:a,pageSize:n}};return Object(o.a)({},r.b.baseMock,{data:g})}),i.a.mock(Object(r.a)("/storeManage/storeAllList/get"),"get",function(e){var t=m,a=Object(c.j)(e.url,"search"),n=Object(c.j)(e.url,"category"),i=Object(c.j)(e.url,"startTime"),s=Object(c.j)(e.url,"endTime"),l=null;a&&(l={storeName:a="undefined"===(a=decodeURI(a))?"":a,"user.name":a},l=Object(p.b)(l),t=Object(p.c)(t,l,"or")),n&&(l={"category.id":n},t=Object(p.c)(t,l,"and","eq")),i&&s&&(t=Object(p.d)(t,"createTime",[i,s]));var d={list:t};return Object(o.a)({},r.b.baseMock,{data:d})}),i.a.mock(Object(r.a)("/storeManage/storeList/delete"),"post",function(e){var t=JSON.parse(e.body).ids,a="";return Object(p.a)(m,"id",t).length!==t.length&&(a="\u5220\u9664\u5931\u8d25",r.b.baseMock.code=10001),Object(o.a)({},r.b.baseMock,{errmsg:a})}),i.a.mock(Object(r.a)("/storeManage/storeList/insert"),"post",function(e){var t=JSON.parse(e.body),a=m[0],n=a.id+1;t.id=n,t.createTime=Object(c.a)(),t.user=Object(p.c)(u.d,{id:t.user.id},"or","eq")[0],t.category=Object(p.c)(h.a.storeCategory,{id:t.category.id},"or","eq")[0],t.creditGrade=Object(p.c)(h.a.creditGrade,{id:"0"},"or","eq")[0],t.avatarImg||(t.avatarImg=Object(p.c)(h.a.images.avatar,{id:"1"},"or","eq")[0]),t.grade=1,t.focusNum=0,t.storeAge=0;var i=Object.assign({},a,t);return m.unshift(i),Object(o.a)({},r.b.baseMock,{},{data:{id:n}})}),i.a.mock(Object(r.a)("/storeManage/storeList/edit"),"post",function(e){var t=JSON.parse(e.body),a=t.id,n=Object(s.a)(t,["id"]),i=Object(p.c)(m,{id:a},"or","eq")[0];n.user=Object(p.c)(u.d,{id:n.user.id},"or","eq")[0],n.category=Object(p.c)(h.a.storeCategory,{id:n.category.id},"or","eq")[0],n.avatarImg||(n.avatarImg=Object(p.c)(h.a.images.avatar,{id:"0"},"or","eq")[0]);var c=Object.assign({},i,n),l=m.findIndex(function(e){return e.id===a});return m.splice(l,1,c),Object(o.a)({},r.b.baseMock)}),i.a.mock(Object(r.a)("/storeManage/storeList/detail"),"get",function(e){var t=Number(Object(c.j)(e.url,"id")),a={userInfo:Object(p.c)(m,{id:t},"and","eq")[0]};return Object(o.a)({},r.b.baseMock,{data:a})})},1132:function(e,t,a){"use strict";a.r(t);var n=a(27),i=a.n(n),r=a(18),s=a(43),o=a(6),c=a(101),l=a(21),d=a(7),u=c.a.adminRoleList.reverse();i.a.mock(Object(r.a)("/authManage/roleList/delete"),"post",function(e){var t=JSON.parse(e.body).id,a="";return Object(l.a)(u,"id",t).length!==t.length&&(a="\u5220\u9664\u5931\u8d25",r.b.baseMock.code=10001),Object(o.a)({},r.b.baseMock,{errmsg:a})}),i.a.mock(Object(r.a)("/authManage/roleList/insert"),"post",function(e){var t=JSON.parse(e.body),a=u[0],n=Number(a.id)+1;return t.id=n,t.createTime=Object(d.a)(),u.unshift(t),Object(o.a)({},r.b.baseMock,{},{data:{id:n}})}),i.a.mock(Object(r.a)("/authManage/roleList/edit"),"post",function(e){var t=JSON.parse(e.body),a=t.id,n=Object(s.a)(t,["id"]),i=Object(l.c)(u,{id:a},"or","eq")[0],c=Object.assign({},i,n),d=u.findIndex(function(e){return e.id.toString()===a.toString()});return u.splice(d,1,c),Object(o.a)({},r.b.baseMock)})},1133:function(e,t,a){"use strict";a.r(t);var n=a(27),i=a.n(n),r=a(18),s=a(43),o=a(6),c=a(7),l=a(20),d=a.n(l),u=a(45),h=a(21),p=d.a.cloneDeep(u.a).reverse();i.a.mock(Object(r.a)("/goodsManage/goodsList/get"),"get",function(e){var t=p,a=Number(Object(c.j)(e.url,"page"))||1,n=Number(Object(c.j)(e.url,"pageSize"))||10,i=Object(c.j)(e.url,"search"),s=Object(c.j)(e.url,"category"),l=Object(c.j)(e.url,"startTime"),d=Object(c.j)(e.url,"endTime"),u=null;i&&(u={name:i=decodeURI(i),"storeInfo.storeName":i},u=Object(h.b)(u),t=Object(h.c)(t,u,"or")),s&&(u={"category.id":s},t=Object(h.c)(t,u,"and")),l&&d&&(t=Object(h.d)(t,"createTime",[l,d]));var m=(a-1)*n,f=a*n,g={list:t.slice(m,f),pagination:{total:t.length,page:a,pageSize:n}};return Object(o.a)({},r.b.baseMock,{data:g})}),i.a.mock(Object(r.a)("/goodsManage/goodsList/delete"),"post",function(e){var t=JSON.parse(e.body).ids,a="";return Object(h.a)(p,"id",t).length!==t.length&&(a="\u5220\u9664\u5931\u8d25",r.b.baseMock.code=10001),Object(o.a)({},r.b.baseMock,{errmsg:a})}),i.a.mock(Object(r.a)("/goodsManage/goodsList/insert"),"post",function(e){var t=JSON.parse(e.body),a=p[0],n=a.id+1;t.id=n,t.createTime=Object(c.a)(),t.storeInfo=Object(h.c)(u.b,{id:t.storeInfo.id},"or","eq")[0],t.avatarImg=t.imgs[0],t.tradingTotalNum=0,t.tradingMonthNum=0,t.tradingDayNum=0,t.commitGoodRate=100;var i=Object.assign({},a,t);return p.unshift(i),Object(o.a)({},r.b.baseMock,{},{data:{id:n}})}),i.a.mock(Object(r.a)("/goodsManage/goodsList/edit"),"post",function(e){var t=JSON.parse(e.body),a=t.id,n=Object(s.a)(t,["id"]),i=Object(h.c)(p,{id:a},"or","eq")[0];n.storeInfo=Object(h.c)(u.b,{id:n.storeInfo.id},"or","eq")[0],n.avatarImg=n.imgs[0];var c=Object.assign({},i,n),l=p.findIndex(function(e){return e.id.toString()===a.toString()});return p.splice(l,1,c),Object(o.a)({},r.b.baseMock)}),i.a.mock(Object(r.a)("/goodsManage/goodsList/detail"),"get",function(e){var t=Number(Object(c.j)(e.url,"id")),a={goodsInfo:Object(h.c)(p,{id:t},"and","eq")[0]};return Object(o.a)({},r.b.baseMock,{data:a})})},1134:function(e,t,a){"use strict";a.r(t);var n=a(27),i=a.n(n),r=a(18),s=a(6),o=a(7),c=a(45);i.a.mock(Object(r.a)("/statistics/store/category/get"),"get",function(e){var t={list:[]},a={};return c.b.forEach(function(e){a[e.category.id]?a[e.category.id].num++:a[e.category.id]={name:e.category.name,num:1}}),Object.keys(a).forEach(function(e){t.list.push({id:e,name:a[e].name,num:a[e].num})}),Object(s.a)({},r.b.baseMock,{data:t})}),i.a.mock(Object(r.a)("/statistics/store/new/get"),"get",function(e){var t=Object(o.j)(e.url,"startTime"),a=Object(o.j)(e.url,"endTime"),n={list:[]},i={};c.b.forEach(function(e){var n=Object(o.a)(e.createTime,"YYYY-MM-DD");t&&a?n>=t&&n<=a&&(i[n]?i[n]++:i[n]=1):i[n]?i[n]++:i[n]=1});var l=[];return Object.keys(i).forEach(function(e){l.push({dateTime:e,num:i[e]})}),n.list=l.sort(function(e,t){return new Date(e.dateTime)-new Date(t.dateTime)}),Object(s.a)({},r.b.baseMock,{data:n})}),i.a.mock(Object(r.a)("/statistics/store/rank/get"),"get",function(e){var t;c.b.sort(function(e,t){return e.creditGrade.id-t.creditGrade.id});var a=c.b.slice(0,10);c.b.sort(function(e,t){return t.serviceScore-e.serviceScore});var n=c.b.slice(0,10);return c.b.sort(function(e,t){return t.rate-e.rate}),t={creditGradeTop10:a,serviceScoreTop10:n,rateTop10:c.b.slice(0,10)},Object(s.a)({},r.b.baseMock,{data:t})})},120:function(e,t){e.exports=AMap},148:function(e,t,a){},18:function(e,t,a){"use strict";a.d(t,"b",function(){return r}),a.d(t,"a",function(){return s});var n=a(27),i=a.n(n),r={baseURL:"mock/fe",baseMock:{status:200,code:"",errmsg:"",data:{}}},s=function(e){return new RegExp("".concat(r.baseURL).concat(e))};a(1125),a(1126),a(1130),a(1131),a(1132),a(1133),a(1134),i.a.setup({timeout:"200-600"})},21:function(e,t,a){"use strict";a.d(t,"c",function(){return s}),a.d(t,"d",function(){return o}),a.d(t,"a",function(){return c}),a.d(t,"b",function(){return l}),a.d(t,"e",function(){return d});var n=a(20),i=a.n(n),r=a(7),s=function(e,t,a,n){var s=[];return i.a.isObject(t)?(e instanceof Array&&(s=e.filter(function(e){var s=Object.keys(t).map(function(a){var s=Object(r.c)(e,a);return"eq"===n?i.a.isArray(t[a])?t[a].includes(s.toString()):s.toString().toLowerCase()===t[a].toString().toLowerCase():i.a.isArray(t[a])?t[a].includes(s.toString()):s.toString().toLowerCase().includes(t[a].toString().toLowerCase())});return"or"===a?s.includes(!0):"and"===a&&!s.includes(!1)})),s):s},o=function(e,t,a,n){var r=[],s=a,o="";return(i.a.isArray(a)||"range"===n)&&(s=a[0],o=a[1]),e instanceof Array&&(r=e.filter(function(e,a){return o?e[t]<=o&&e[t]>=s:"left"===n?e[t]<=s:"right"===n&&e[t]>=s})),r},c=function(e,t,a){var n=[];if(e instanceof Array)if(i.a.isArray(a))a.forEach(function(a){var i=e.findIndex(function(e){return e[t].toString()===a.toString()});n.push(e.splice(i,1))});else{var r=e.findIndex(function(e){return e[t].toString()===a.toString()});n.push(e.splice(r,1))}return n},l=function(e){return i.a.isObject(e)?(Object.keys(e).forEach(function(t){("number"!==typeof e[t]||e[t].toString())&&("string"!==typeof e[t]||e[t])||delete e[t]}),e):e},d=function(e,t){var a=e[0],n=e[1],i=t[0],r=t[1],s=(Math.random()*(n-a)+a).toFixed(10);return[(Math.random()*(r-i)+i).toFixed(10),s]}},263:function(e,t,a){},34:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n={adminRoleList:[{id:"1",uid:"root",name:"\u8d85\u7ea7\u7ba1\u7406\u5458",createTime:""},{id:"2",uid:"admin",name:"\u666e\u901a\u7ba1\u7406\u5458"},{id:"3",uid:"service",name:"\u5ba2\u670d"},{id:"4",uid:"sale",name:"\u9500\u552e"},{id:"5",uid:"operations",name:"\u8fd0\u8425"},{id:"6",uid:"saleService",name:"\u552e\u540e"}],userRole:[{id:"1",name:"\u8363\u8a89\u4f1a\u5458",yearFee:0,mouthFee:0,dayFee:0},{id:"2",name:"\u94bb\u77f3\u4f1a\u5458",yearFee:3600,mouthFee:300,dayFee:10},{id:"3",name:"\u9ec4\u91d1\u4f1a\u5458",yearFee:2880,mouthFee:240,dayFee:8},{id:"4",name:"\u94f6\u724c\u4f1a\u5458",yearFee:2160,mouthFee:180,dayFee:6},{id:"5",name:"\u94dc\u724c\u4f1a\u5458",yearFee:1440,mouthFee:120,dayFee:4},{id:"6",name:"\u666e\u901a\u4f1a\u5458",yearFee:720,mouthFee:60,dayFee:2},{id:"7",name:"\u666e\u901a\u7528\u6237",yearFee:0,mouthFee:0,dayFee:0}],images:{avatar:[{id:"1",url:"http://cdn.duitang.com/uploads/item/201410/16/20141016202155_5ycRZ.thumb.700_0.jpeg"},{id:"2",url:"http://cdn.duitang.com/uploads/item/201407/24/20140724190906_MCkXs.thumb.700_0.jpeg"},{id:"3",url:"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1562778995799&di=53a21a07bc40c93db2cbcd2d5a138049&imgtype=0&src=http%3A%2F%2Fm.360buyimg.com%2Fpop%2Fjfs%2Ft23434%2F230%2F1763906670%2F10667%2F55866a07%2F5b697898N78cd1466.jpg"},{id:"4",url:"http://img4q.duitang.com/uploads/item/201408/08/20140808171354_XkhfE.jpeg"},{id:"5",url:"http://img5.duitang.com/uploads/item/201411/29/20141129010249_dh32E.thumb.700_0.jpeg"},{id:"6",url:"http://cdn.duitang.com/uploads/item/201411/01/20141101173037_8jTcj.thumb.700_0.jpeg"},{id:"7",url:"http://cdn.duitang.com/uploads/item/201410/08/20141008150015_dP8yJ.thumb.700_0.jpeg"}],IDCardPicture:[[{id:"0",url:"https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=3233897839,1610640538&fm=27&gp=0.jpg"},{id:"1",url:"https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=3233897839,1610640538&fm=27&gp=0.jpg"}],[{id:"0",url:"https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=3233897839,1610640538&fm=27&gp=0.jpg"},{id:"1",url:"https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=3233897839,1610640538&fm=27&gp=0.jpg"}]],businessLicenseImg:[{id:"0",url:"http://pic.5tu.cn/uploads/allimg/201509/010P000040A5213111-1.jpg"},{id:"1",url:"http://pic.5tu.cn/uploads/allimg/201603/010P0000401B63M96-1.png"},{id:"2",url:"http://pic.5tu.cn/uploads/allimg/201310/010P00004059C92444-1.jpg"},{id:"3",url:"http://i2.sinaimg.cn/cj/consume/puguangtai/20100621/U4460P31T1D8145604F46DT20100621095332.jpg"}],goodsImg:[{id:"0",url:"http://img4.imgtn.bdimg.com/it/u=3348694902,943006606&fm=26&gp=0.jpg"},{id:"1",url:"http://img2.imgtn.bdimg.com/it/u=3801589976,1942504570&fm=26&gp=0.jpg"},{id:"2",url:"http://img5.imgtn.bdimg.com/it/u=377419104,4151020821&fm=26&gp=0.jpg"},{id:"3",url:"http://n.sinaimg.cn/sinacn17/783/w1001h582/20180627/a04f-hencxtv2814871.jpg"},{id:"4",url:"http://img3.imgtn.bdimg.com/it/u=1490981341,2458377782&fm=26&gp=0.jpg"},{id:"5",url:"http://img5.imgtn.bdimg.com/it/u=3358835353,548879044&fm=26&gp=0.jpg"},{id:"6",url:"http://img5.imgtn.bdimg.com/it/u=1510596931,1199230612&fm=26&gp=0.jpg"}]},storeCategory:[{id:"0",name:"\u5176\u4ed6"},{id:"1",name:"\u865a\u62df"},{id:"2",name:"\u670d\u88c5"},{id:"3",name:"\u914d\u9970"},{id:"4",name:"\u7f8e\u5bb9"},{id:"5",name:"\u6570\u7801"},{id:"6",name:"\u5bb6\u7535"},{id:"7",name:"\u98df\u54c1"},{id:"8",name:"\u7eba\u7ec7"},{id:"9",name:"\u6587\u5177"},{id:"10",name:"\u836f\u54c1"}],sex:[{id:"0",name:"\u5973"},{id:"1",name:"\u7537"}],creditGrade:[{id:"1",name:"\u4f18\u79c0"},{id:"2",name:"\u826f\u597d"},{id:"3",name:"\u4e00\u822c"},{id:"4",name:"\u5dee"},{id:"5",name:"\u6781\u5dee"}],userList:[{id:"root",name:"root",password:"123456",address:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a",sex:{id:"1",name:"\u7537"},userRole:{id:"1",uid:"root",name:"\u8d85\u7ea7\u7ba1\u7406\u5458",createTime:"2019-02-13 00:00:00"},phone:"13200000000",avatar:{id:"root",url:"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=3768890033,68770272&fm=27&gp=0.jpg"},email:"13200000000@163.com",isDelete:!1,isActive:!0,createTime:"2019-02-13 00:00:00"},{id:"bussiness",name:"bussiness",password:"123456",address:"\u5317\u4eac\u5e02\u6d77\u6dc0\u533a",sex:{id:"1",name:"\u7537"},userRole:{id:"2",name:"\u94bb\u77f3\u4f1a\u5458",yearFee:3600,mouthFee:300,dayFee:10},phone:"13200000001",avatar:{id:"bussiness",url:"https://ss1.bdstatic.com/70cFuXSh_Q1YnxGkpoWK1HF6hhy/it/u=311097710,965735535&fm=27&gp=0.jpg"},email:"13200000001@163.com",isDelete:!1,isActive:!0,createTime:"2019-02-13 00:00:00"}]}},45:function(e,t,a){"use strict";var n=a(27),i=a.n(n),r=a(34),s=a(101),o=a(21),c={"list|30-100":[{"id|+1":1,name:"@CNAME",password:"123456","sex|1":r.a.sex,IDCard:/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|[xX])$/,"IDCardPicture|1":r.a.images.IDCardPicture,"userRole|1":r.a.userRole,phone:/^1[3456789]\d{9}$/,"avatar|1":r.a.images.avatar,email:"@EMAIL",address:"@COUNTY(true)",latlong:function(){return Object(o.e)([87.9345703125,118.564453125],[21.8614987344,42.0329743324])},"storeNum|0-10":0,isDelete:"@boolean",isActive:"@boolean",deleteReason:"\u5df2\u5230\u671f",createTime:"@datetime",deleteTime:"@datetime"}]},l={"list|30-100":[{"id|+1":1,name:"@CNAME",password:"123456","sex|1":r.a.sex,"userRole|1":s.a.adminRoleList,phone:/^1[3456789]\d{9}$/,"avatar|1":r.a.images.avatar,email:"@EMAIL",isDelete:"@boolean",isActive:"@boolean",deleteReason:"\u5df2\u79bb\u804c",createTime:"@datetime",deleteTime:"@datetime"}]},d=i.a.mock(c),u=i.a.mock(l),h={userListBusniess:d.list.concat([r.a.userList[1]]),userListAdmin:u.list.concat([r.a.userList[0]])},p=a(7),m={"list|30-150":[{"id|+1":1,"user|1":h.userListBusniess,storeName:"@ctitle",description:"@cparagraph",address:"@COUNTY(true)","category|1":r.a.storeCategory,organizationCode:/[A-Z0-9]{8}-[A-Z0-9]$|[A-Z0-9]{8}-[A-Z0-9]-[0-9]{2}$/,"businessLicenseImg|1":r.a.images.businessLicenseImg,"storeAge|0-500":0,"focusNum|100-10000000":0,"avatarImg|1":r.a.images.avatar,grade:1,"creditGrade|1":r.a.creditGrade,"serviceScore|0-9.0-1":0,"rate|0-9.0-1":0,latlong:function(){return Object(o.e)([87.9345703125,118.564453125],[21.8614987344,42.0329743324])},createTime:function(){return Object(p.e)("2017-01-01",new Date)}}]},f={storeList:i.a.mock(m).list},g=i.a.Random,v={"list|30-100":[{"id|+1":1,"storeInfo|1":f.storeList,category:1,name:"@cword",description:"@ctitle","price|10-100":1,originPrice:function(){return this.price-g.integer(0,8)},"stockNum|100-1000":0,"tradingTotalNum|1000-100000":0,"tradingMonthNum|100-500":0,"tradingDayNum|0-100":0,imgs:r.a.images.goodsImg,avatarImg:function(){return this.imgs[0]},commitIds:[],"commitGoodRate|0-100":0,specification:1,packList:0,couponIds:[],status:"@boolean",createTime:"@datetime"}]},b={goodsList:i.a.mock(v).list};a.d(t,"d",function(){return y}),a.d(t,"c",function(){return j}),a.d(t,"b",function(){return O}),a.d(t,"a",function(){return k});var y=h.userListBusniess,j=h.userListAdmin,O=f.storeList,k=b.goodsList},480:function(e,t,a){e.exports=a.p+"static/media/map-marker.d9dc09a7.png"},504:function(e,t,a){e.exports=a(1128)},509:function(e,t,a){},516:function(e,t,a){},522:function(e,t,a){},564:function(e,t,a){},577:function(e,t,a){},616:function(e,t,a){},622:function(e,t,a){},623:function(e,t,a){},631:function(e,t,a){},632:function(e,t,a){},633:function(e,t,a){},649:function(e,t,a){},650:function(e,t,a){},7:function(e,t,a){"use strict";a.d(t,"j",function(){return r}),a.d(t,"c",function(){return s}),a.d(t,"f",function(){return o}),a.d(t,"g",function(){return c}),a.d(t,"h",function(){return l}),a.d(t,"a",function(){return d}),a.d(t,"e",function(){return u}),a.d(t,"b",function(){return h}),a.d(t,"d",function(){return p}),a.d(t,"i",function(){return m});var n=a(20),i=a.n(n),r=function(e,t){var a={hash:"",query:{}};if(!e)return e;var n=e,i=n.indexOf("#"),r=n.indexOf("?"),s=i>-1?n.substring(i+1,r>-1?r:n.length):"",o=r>-1?n.substring(r+1):"",c={};o&&o.split("&").forEach(function(e){var t=e.split("=")[0],a=e.split("=")[1];c[t]=a});if(a.hash=s,a.query=c,t)try{a=c[t]}catch(l){a=""}return a},s=function(e,t){try{if((i.a.isObject(e)||i.a.isArray(e))&&t){var a=t.split(".");return function e(t,a){var n=a.shift();return n.length<5&&parseInt(n)&&(n=parseInt(n)),"undefined"===typeof t[n]||null===t[n]?"":0===a.length?t[n]:e(t=t[n],a)}(e,a)}return""}catch(n){}},o=function(e,t,a){try{if(""===t)return e;var n=t.split(".");return function t(n,i){var r=i.shift();return n[r]||(n[r]={}),0===i.length?(n[r]=a,e):t(n[r],i)}(e,n)}catch(i){}},c=function(e,t,a,n){var r=i.a.cloneDeep(e);return r.forEach(function(e){e.data&&e.data.forEach(function(e){i.a.isArray(e)?e.forEach(function(e){e.key===t&&(e[a]=n)}):e.id===t&&(e[a]=n)})}),r},l=function(e,t){var a=i.a.cloneDeep(e);return a.forEach(function(e){e.data&&e.data.forEach(function(e){if(i.a.isArray(e))e.forEach(function(e){var a=s(t,e.jpath);"img"!==e.type||"object"!==typeof a||a instanceof Array||(a=[a]),e.value="object"===typeof a?a:a.toString()});else{var a=s(t,e.jpath);"img"!==e.type||"object"!==typeof a||a instanceof Array||(a=[a]),e.value="object"===typeof a?a:a.toString()}})}),a},d=function(e,t){var a="";t||(t="YYYY-MM-DD HH:mm:ss");var n=function(e){return e>9?e:"0"+e},i={year:(a=e?new Date(e):new Date).getFullYear(),month:n(a.getMonth()+1),date:n(a.getDate()),hour:n(a.getHours()),minute:n(a.getMinutes()),second:n(a.getSeconds())},r="".concat(i.year,"-").concat(i.month,"-").concat(i.date),s="".concat(i.hour,":").concat(i.minute,":").concat(i.second),o=t.lastIndexOf("Y")>-1?t.lastIndexOf("Y")+1:"",c=t.lastIndexOf("H")>-1?t.lastIndexOf("H")+1-10:"",l="";return r[o]&&(r.replace(/-/g,r[o]),l=r),s[c]&&(s.replace(/:/g,s[c]),l?l+=" ".concat(s):l=s),r[o]||s[c]||(l="".concat(r," ").concat(s)),l},u=function(e,t){if(e){t||(t=new Date);var a=new Date(e).getTime(),n=new Date(t).getTime(),i=Math.floor(Math.random()*(n-a)+a);return d(new Date(i))}},h=function(e,t){if(e){t||(t=0);var a=new Date;return a.setDate(new Date(e).getDate()+t),d(a)}},p=function(e,t){var a=("session"===t?sessionStorage:localStorage).getItem(e);try{a=JSON.parse(a)}catch(n){}return a},m=function(e,t,a){var n="session"===a?sessionStorage:localStorage;"object"===typeof t&&(t=JSON.stringify(t)),n.setItem(e,t)}},731:function(e,t,a){},813:function(e,t,a){},814:function(e,t,a){},816:function(e,t,a){},819:function(e,t,a){},820:function(e,t,a){},821:function(e,t,a){},83:function(e,t){e.exports={name:"X-Admin",leftNavdefaultOpenAll:!1,CollapseModel:!0,collapsedDefaultOpen:!1,mock:!0}}},[[504,1,2]]]);
//# sourceMappingURL=main.50b59518.chunk.js.map